#include <stdafx.h>
#include <WkbTester.h>
#include <WkbGeometry.h>
#include <WktConvert.h>

WkbTester::WkbTester()
{
}


WkbTester::~WkbTester()
{
}

unsigned char WkbTester::tobyte(const wchar_t * pstrbyte)
{
	const wchar_t * hex = L"0123456789ABCDEF";
	const wchar_t * p = wcschr(hex, pstrbyte[0]);
	size_t i = (p - hex) * 16;
	p = wcschr(hex, pstrbyte[1]);
	i += (p - hex);
	return (unsigned char)i;
}
bool WkbTester::testWKT2GPKGWKB(const wchar_t * wkt, const wchar_t * strgpkgwkb)
{
	bool bOK = false;
	size_t sz = wcslen(strgpkgwkb) / 2;
	unsigned char * blob = new unsigned char[sz];
	for (size_t i = 0; i < sz; i++)
	{
		blob[i] = tobyte(strgpkgwkb + (i * 2));
	}

	WktConvert * wktConvert = new WktConvert(L"EPSG:4326");
	if (wktConvert->convert(wkt)) {
		WkbGeometry * wkbGeometry = wktConvert->GetWkbGeometry();
		if ((wkbGeometry != nullptr) && (wkbGeometry->GetNbrGPKGWKBBytes() == sz) &&
			(memcmp(blob, wkbGeometry->AsGPKGWKB(), sz) == 0))
		{
			bOK = true;
		}
	}
	delete wktConvert;
	delete[] blob;

	return bOK;
}
bool WkbTester::testGPKGWKB2WKT(const wchar_t * strgpkgwkb, const wchar_t * wkt)
{
	bool bOK = false;
	size_t sz = wcslen(strgpkgwkb) / 2;
	unsigned char * blob = new unsigned char[sz];
	for (size_t i = 0; i < sz; i++)
	{
		blob[i] = tobyte(strgpkgwkb + (i * 2));
	}
	WkbGeometry * wkbGeometry = WkbGeometry::CreateFromGPKGWKB(L"EPSG:4326", sz, blob);
	WktConvert * wktConvert = new WktConvert(wkbGeometry->GetCSys());

	bOK = wkbGeometry->Parse(wktConvert);

	bOK = bOK && (wcscmp(wkt, wktConvert->AsWkt().c_str()) == 0);

	delete wktConvert;
	delete wkbGeometry;

	return bOK;
}
bool WkbTester::testWKB2WKT(const wchar_t * strwkb, const wchar_t * wkt)
{
	bool bOK = false;
	size_t sz = wcslen(strwkb) / 2;
	unsigned char * blob = new unsigned char[sz];
	for (size_t i = 0; i < sz; i++)
	{
		blob[i] = tobyte(strwkb + (i * 2));
	}
	WkbGeometry * wkbGeometry = WkbGeometry::CreateFromWKB(L"EPSG:4326", sz, blob);
	WktConvert * wktConvert = new WktConvert(wkbGeometry->GetCSys());

	bOK = wkbGeometry->Parse(wktConvert);

	bOK = bOK && (wcscmp(wkt, wktConvert->AsWkt().c_str()) == 0);

	delete wktConvert;
	delete wkbGeometry;

	return bOK;
}
void WkbTester::str2blob(const wchar_t * str, size_t & sz, unsigned char * & blob)
{
	sz = wcslen(str) / 2;
	blob = new unsigned char[sz];
	for (size_t i = 0; i < sz; i++)
	{
		blob[i] = tobyte(str + (i * 2));
	}
}
bool WkbTester::testWKB2GPKGWKB(const wchar_t * strwkb, const wchar_t * strgpkgwkb)
{
	bool bOK = false;
	size_t sz = 0;
	unsigned char * blob = 0;
	str2blob(strwkb, sz, blob);

	WkbGeometry * wkbGeometry = WkbGeometry::CreateFromWKB(L"EPSG:4326", sz, blob);

	size_t sz2 = 0;
	unsigned char * blob2 = 0;
	str2blob(strgpkgwkb, sz2, blob2);

	bOK = ((wkbGeometry != nullptr) &&
		(sz2 == wkbGeometry->GetNbrGPKGWKBBytes()) &&
		(memcmp(blob2, wkbGeometry->AsGPKGWKB(), sz2) == 0));

	delete[] blob2;
	delete wkbGeometry;

	return bOK;
}
bool WkbTester::test_POINT()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POINT (30 10)",
		L"475000010000000001010000000000000000003E400000000000002440");
	bOK &= testGPKGWKB2WKT(
		L"475000010000000001010000000000000000003E400000000000002440",
		L"POINT (30.000000 10.000000)");
	bOK &= testWKB2WKT(
		L"01010000000000000000003E400000000000002440",
		L"POINT (30.000000 10.000000)");
	bOK &= testWKB2GPKGWKB(
		L"01010000000000000000003E400000000000002440",
		L"475000010000000001010000000000000000003E400000000000002440");
	return bOK;
}
bool WkbTester::test_POINT_Z()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POINT Z (30 10 40)",
		L"475000010000000001E90300000000000000003E4000000000000024400000000000004440");
	bOK &= testGPKGWKB2WKT(
		L"475000010000000001E90300000000000000003E4000000000000024400000000000004440",
		L"POINT Z (30.000000 10.000000 40.000000)");
	bOK &= testWKB2WKT(
		L"01E90300000000000000003E4000000000000024400000000000004440",
		L"POINT Z (30.000000 10.000000 40.000000)");
	bOK &= testWKB2GPKGWKB(
		L"01E90300000000000000003E4000000000000024400000000000004440",
		L"475000010000000001E90300000000000000003E4000000000000024400000000000004440");
	return bOK;
}
bool WkbTester::test_POINT_M()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POINT M (30 10 50)",
		L"475000010000000001D10700000000000000003E4000000000000024400000000000004940");
	bOK &= testGPKGWKB2WKT(
		L"475000010000000001D10700000000000000003E4000000000000024400000000000004940",
		L"POINT M (30.000000 10.000000 50.000000)");
	bOK &= testWKB2WKT(
		L"01D10700000000000000003E4000000000000024400000000000004940",
		L"POINT M (30.000000 10.000000 50.000000)");
	bOK &= testWKB2GPKGWKB(
		L"01D10700000000000000003E4000000000000024400000000000004940",
		L"475000010000000001D10700000000000000003E4000000000000024400000000000004940");
	return bOK;
}
bool WkbTester::test_POINT_ZM()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POINT ZM (30 10 40 50)",
		L"475000010000000001B90B00000000000000003E40000000000000244000000000000044400000000000004940");
	bOK &= testGPKGWKB2WKT(
		L"475000010000000001B90B00000000000000003E40000000000000244000000000000044400000000000004940",
		L"POINT ZM (30.000000 10.000000 40.000000 50.000000)");
	bOK &= testWKB2WKT(
		L"01B90B00000000000000003E40000000000000244000000000000044400000000000004940",
		L"POINT ZM (30.000000 10.000000 40.000000 50.000000)");
	bOK &= testWKB2GPKGWKB(
		L"01B90B00000000000000003E40000000000000244000000000000044400000000000004940",
		L"475000010000000001B90B00000000000000003E40000000000000244000000000000044400000000000004940");
	return bOK;
}
bool WkbTester::test_LINESTRING()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"LINESTRING (30 10, 10 30, 40 40)",
		L"475000030000000000000000000024400000000000004440000000000000244000000000000044400102000000030000000000000000003E40000000000000244000000000000024400000000000003E4000000000000044400000000000004440");
	bOK &= testGPKGWKB2WKT(
		L"475000030000000000000000000024400000000000004440000000000000244000000000000044400102000000030000000000000000003E40000000000000244000000000000024400000000000003E4000000000000044400000000000004440",
		L"LINESTRING (30.000000 10.000000,10.000000 30.000000,40.000000 40.000000)");
	bOK &= testWKB2WKT(
		L"0102000000030000000000000000003E40000000000000244000000000000024400000000000003E4000000000000044400000000000004440",
		L"LINESTRING (30.000000 10.000000,10.000000 30.000000,40.000000 40.000000)");
	bOK &= testWKB2GPKGWKB(
		L"0102000000030000000000000000003E40000000000000244000000000000024400000000000003E4000000000000044400000000000004440",
		L"475000030000000000000000000024400000000000004440000000000000244000000000000044400102000000030000000000000000003E40000000000000244000000000000024400000000000003E4000000000000044400000000000004440");
	return bOK;
}
bool WkbTester::test_LINESTRING_Z()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"LINESTRING Z (30 10 40, 10 30 42, 40 40 44)",
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000464001EA030000030000000000000000003E400000000000002440000000000000444000000000000024400000000000003E400000000000004540000000000000444000000000000044400000000000004640");
	bOK &= testGPKGWKB2WKT(
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000464001EA030000030000000000000000003E400000000000002440000000000000444000000000000024400000000000003E400000000000004540000000000000444000000000000044400000000000004640",
		L"LINESTRING Z (30.000000 10.000000 40.000000,10.000000 30.000000 42.000000,40.000000 40.000000 44.000000)");
	bOK &= testWKB2WKT(
		L"01EA030000030000000000000000003E400000000000002440000000000000444000000000000024400000000000003E400000000000004540000000000000444000000000000044400000000000004640",
		L"LINESTRING Z (30.000000 10.000000 40.000000,10.000000 30.000000 42.000000,40.000000 40.000000 44.000000)");
	bOK &= testWKB2GPKGWKB(
		L"01EA030000030000000000000000003E400000000000002440000000000000444000000000000024400000000000003E400000000000004540000000000000444000000000000044400000000000004640",
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000464001EA030000030000000000000000003E400000000000002440000000000000444000000000000024400000000000003E400000000000004540000000000000444000000000000044400000000000004640");
	return bOK;
}
bool WkbTester::test_LINESTRING_M()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"LINESTRING M (30 10 50, 10 30 52, 40 40 54)",
		L"4750000700000000000000000000244000000000000044400000000000002440000000000000444000000000000049400000000000004B4001D2070000030000000000000000003E400000000000002440000000000000494000000000000024400000000000003E400000000000004A40000000000000444000000000000044400000000000004B40");
	bOK &= testGPKGWKB2WKT(
		L"4750000700000000000000000000244000000000000044400000000000002440000000000000444000000000000049400000000000004B4001D2070000030000000000000000003E400000000000002440000000000000494000000000000024400000000000003E400000000000004A40000000000000444000000000000044400000000000004B40",
		L"LINESTRING M (30.000000 10.000000 50.000000,10.000000 30.000000 52.000000,40.000000 40.000000 54.000000)");
	bOK &= testWKB2WKT(
		L"01D2070000030000000000000000003E400000000000002440000000000000494000000000000024400000000000003E400000000000004A40000000000000444000000000000044400000000000004B40",
		L"LINESTRING M (30.000000 10.000000 50.000000,10.000000 30.000000 52.000000,40.000000 40.000000 54.000000)");
	bOK &= testWKB2GPKGWKB(
		L"01D2070000030000000000000000003E400000000000002440000000000000494000000000000024400000000000003E400000000000004A40000000000000444000000000000044400000000000004B40",
		L"4750000700000000000000000000244000000000000044400000000000002440000000000000444000000000000049400000000000004B4001D2070000030000000000000000003E400000000000002440000000000000494000000000000024400000000000003E400000000000004A40000000000000444000000000000044400000000000004B40");
	return bOK;
}
bool WkbTester::test_LINESTRING_ZM()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"LINESTRING ZM (30 10 40 50, 10 30 42 52, 40 40 44 54)",
		L"475000090000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000464000000000000049400000000000004B4001BA0B0000030000000000000000003E4000000000000024400000000000004440000000000000494000000000000024400000000000003E4000000000000045400000000000004A400000000000004440000000000000444000000000000046400000000000004B40");
	bOK &= testGPKGWKB2WKT(
		L"475000090000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000464000000000000049400000000000004B4001BA0B0000030000000000000000003E4000000000000024400000000000004440000000000000494000000000000024400000000000003E4000000000000045400000000000004A400000000000004440000000000000444000000000000046400000000000004B40",
		L"LINESTRING ZM (30.000000 10.000000 40.000000 50.000000,10.000000 30.000000 42.000000 52.000000,40.000000 40.000000 44.000000 54.000000)");
	bOK &= testWKB2WKT(
		L"01BA0B0000030000000000000000003E4000000000000024400000000000004440000000000000494000000000000024400000000000003E4000000000000045400000000000004A400000000000004440000000000000444000000000000046400000000000004B40",
		L"LINESTRING ZM (30.000000 10.000000 40.000000 50.000000,10.000000 30.000000 42.000000 52.000000,40.000000 40.000000 44.000000 54.000000)");
	bOK &= testWKB2GPKGWKB(
		L"01BA0B0000030000000000000000003E4000000000000024400000000000004440000000000000494000000000000024400000000000003E4000000000000045400000000000004A400000000000004440000000000000444000000000000046400000000000004B40",
		L"475000090000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000464000000000000049400000000000004B4001BA0B0000030000000000000000003E4000000000000024400000000000004440000000000000494000000000000024400000000000003E4000000000000045400000000000004A400000000000004440000000000000444000000000000046400000000000004B40");
	return bOK;
}
bool WkbTester::test_MULTILINESTRING()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTILINESTRING ((10 10, 20 20, 10 40),(40 40, 30 30, 40 20, 30 10))",
		L"47500003000000000000000000002440000000000000444000000000000024400000000000004440010500000002000000010500000003000000000000000000244000000000000024400000000000003440000000000000344000000000000024400000000000004440010500000004000000000000000000444000000000000044400000000000003E400000000000003E40000000000000444000000000000034400000000000003E400000000000002440");
	bOK &= testGPKGWKB2WKT(
		L"47500003000000000000000000002440000000000000444000000000000024400000000000004440010500000002000000010500000003000000000000000000244000000000000024400000000000003440000000000000344000000000000024400000000000004440010500000004000000000000000000444000000000000044400000000000003E400000000000003E40000000000000444000000000000034400000000000003E400000000000002440",
		L"MULTILINESTRING ((10.000000 10.000000,20.000000 20.000000,10.000000 40.000000),(40.000000 40.000000,30.000000 30.000000,40.000000 20.000000,30.000000 10.000000))");
	bOK &= testWKB2WKT(
		L"010500000002000000010500000003000000000000000000244000000000000024400000000000003440000000000000344000000000000024400000000000004440010500000004000000000000000000444000000000000044400000000000003E400000000000003E40000000000000444000000000000034400000000000003E400000000000002440",
		L"MULTILINESTRING ((10.000000 10.000000,20.000000 20.000000,10.000000 40.000000),(40.000000 40.000000,30.000000 30.000000,40.000000 20.000000,30.000000 10.000000))");
	bOK &= testWKB2GPKGWKB(
		L"010500000002000000010500000003000000000000000000244000000000000024400000000000003440000000000000344000000000000024400000000000004440010500000004000000000000000000444000000000000044400000000000003E400000000000003E40000000000000444000000000000034400000000000003E400000000000002440",
		L"47500003000000000000000000002440000000000000444000000000000024400000000000004440010500000002000000010500000003000000000000000000244000000000000024400000000000003440000000000000344000000000000024400000000000004440010500000004000000000000000000444000000000000044400000000000003E400000000000003E40000000000000444000000000000034400000000000003E400000000000002440");
	return bOK;
}
bool WkbTester::test_MULTILINESTRING_Z()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTILINESTRING Z ((10 10 40, 20 20 42, 10 40 44),(40 40 60, 30 30 62, 40 20 64, 30 10 66))",
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000080504001ED0300000200000001ED0300000300000000000000000024400000000000002440000000000000444000000000000034400000000000003440000000000000454000000000000024400000000000004440000000000000464001ED03000004000000000000000000444000000000000044400000000000004E400000000000003E400000000000003E400000000000004F400000000000004440000000000000344000000000000050400000000000003E4000000000000024400000000000805040");
	bOK &= testGPKGWKB2WKT(
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000080504001ED0300000200000001ED0300000300000000000000000024400000000000002440000000000000444000000000000034400000000000003440000000000000454000000000000024400000000000004440000000000000464001ED03000004000000000000000000444000000000000044400000000000004E400000000000003E400000000000003E400000000000004F400000000000004440000000000000344000000000000050400000000000003E4000000000000024400000000000805040",
		L"MULTILINESTRING Z ((10.000000 10.000000 40.000000,20.000000 20.000000 42.000000,10.000000 40.000000 44.000000),(40.000000 40.000000 60.000000,30.000000 30.000000 62.000000,40.000000 20.000000 64.000000,30.000000 10.000000 66.000000))");
	bOK &= testWKB2WKT(
		L"01ED0300000200000001ED0300000300000000000000000024400000000000002440000000000000444000000000000034400000000000003440000000000000454000000000000024400000000000004440000000000000464001ED03000004000000000000000000444000000000000044400000000000004E400000000000003E400000000000003E400000000000004F400000000000004440000000000000344000000000000050400000000000003E4000000000000024400000000000805040",
		L"MULTILINESTRING Z ((10.000000 10.000000 40.000000,20.000000 20.000000 42.000000,10.000000 40.000000 44.000000),(40.000000 40.000000 60.000000,30.000000 30.000000 62.000000,40.000000 20.000000 64.000000,30.000000 10.000000 66.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01ED0300000200000001ED0300000300000000000000000024400000000000002440000000000000444000000000000034400000000000003440000000000000454000000000000024400000000000004440000000000000464001ED03000004000000000000000000444000000000000044400000000000004E400000000000003E400000000000003E400000000000004F400000000000004440000000000000344000000000000050400000000000003E4000000000000024400000000000805040",
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000080504001ED0300000200000001ED0300000300000000000000000024400000000000002440000000000000444000000000000034400000000000003440000000000000454000000000000024400000000000004440000000000000464001ED03000004000000000000000000444000000000000044400000000000004E400000000000003E400000000000003E400000000000004F400000000000004440000000000000344000000000000050400000000000003E4000000000000024400000000000805040");
	return bOK;
}
bool WkbTester::test_MULTILINESTRING_M()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTILINESTRING M ((10 10 50, 20 20 52, 10 40 54),(40 40 70, 30 30 72, 40 20 74, 30 10 76))",
		L"475000070000000000000000000024400000000000004440000000000000244000000000000044400000000000004940000000000000534001D50700000200000001D507000003000000000000000000244000000000000024400000000000004940000000000000344000000000000034400000000000004A40000000000000244000000000000044400000000000004B4001D5070000040000000000000000004440000000000000444000000000008051400000000000003E400000000000003E4000000000000052400000000000004440000000000000344000000000008052400000000000003E4000000000000024400000000000005340");
	bOK &= testGPKGWKB2WKT(
		L"475000070000000000000000000024400000000000004440000000000000244000000000000044400000000000004940000000000000534001D50700000200000001D507000003000000000000000000244000000000000024400000000000004940000000000000344000000000000034400000000000004A40000000000000244000000000000044400000000000004B4001D5070000040000000000000000004440000000000000444000000000008051400000000000003E400000000000003E4000000000000052400000000000004440000000000000344000000000008052400000000000003E4000000000000024400000000000005340",
		L"MULTILINESTRING M ((10.000000 10.000000 50.000000,20.000000 20.000000 52.000000,10.000000 40.000000 54.000000),(40.000000 40.000000 70.000000,30.000000 30.000000 72.000000,40.000000 20.000000 74.000000,30.000000 10.000000 76.000000))");
	bOK &= testWKB2WKT(
		L"01D50700000200000001D507000003000000000000000000244000000000000024400000000000004940000000000000344000000000000034400000000000004A40000000000000244000000000000044400000000000004B4001D5070000040000000000000000004440000000000000444000000000008051400000000000003E400000000000003E4000000000000052400000000000004440000000000000344000000000008052400000000000003E4000000000000024400000000000005340",
		L"MULTILINESTRING M ((10.000000 10.000000 50.000000,20.000000 20.000000 52.000000,10.000000 40.000000 54.000000),(40.000000 40.000000 70.000000,30.000000 30.000000 72.000000,40.000000 20.000000 74.000000,30.000000 10.000000 76.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01D50700000200000001D507000003000000000000000000244000000000000024400000000000004940000000000000344000000000000034400000000000004A40000000000000244000000000000044400000000000004B4001D5070000040000000000000000004440000000000000444000000000008051400000000000003E400000000000003E4000000000000052400000000000004440000000000000344000000000008052400000000000003E4000000000000024400000000000005340",
		L"475000070000000000000000000024400000000000004440000000000000244000000000000044400000000000004940000000000000534001D50700000200000001D507000003000000000000000000244000000000000024400000000000004940000000000000344000000000000034400000000000004A40000000000000244000000000000044400000000000004B4001D5070000040000000000000000004440000000000000444000000000008051400000000000003E400000000000003E4000000000000052400000000000004440000000000000344000000000008052400000000000003E4000000000000024400000000000005340");
	return bOK;
}
bool WkbTester::test_MULTILINESTRING_ZM()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTILINESTRING ZM ((10 10 40 50, 20 20 42 52, 10 40 44 54),(40 40 60 70, 30 30 62 72, 40 20 64 74, 30 10 66 76))",
		L"47500009000000000000000000002440000000000000444000000000000024400000000000004440000000000000444000000000008050400000000000004940000000000000534001BD0B00000200000001BD0B00000300000000000000000024400000000000002440000000000000444000000000000049400000000000003440000000000000344000000000000045400000000000004A400000000000002440000000000000444000000000000046400000000000004B4001BD0B000004000000000000000000444000000000000044400000000000004E4000000000008051400000000000003E400000000000003E400000000000004F40000000000000524000000000000044400000000000003440000000000000504000000000008052400000000000003E40000000000000244000000000008050400000000000005340");
	bOK &= testGPKGWKB2WKT(
		L"47500009000000000000000000002440000000000000444000000000000024400000000000004440000000000000444000000000008050400000000000004940000000000000534001BD0B00000200000001BD0B00000300000000000000000024400000000000002440000000000000444000000000000049400000000000003440000000000000344000000000000045400000000000004A400000000000002440000000000000444000000000000046400000000000004B4001BD0B000004000000000000000000444000000000000044400000000000004E4000000000008051400000000000003E400000000000003E400000000000004F40000000000000524000000000000044400000000000003440000000000000504000000000008052400000000000003E40000000000000244000000000008050400000000000005340",
		L"MULTILINESTRING ZM ((10.000000 10.000000 40.000000 50.000000,20.000000 20.000000 42.000000 52.000000,10.000000 40.000000 44.000000 54.000000),(40.000000 40.000000 60.000000 70.000000,30.000000 30.000000 62.000000 72.000000,40.000000 20.000000 64.000000 74.000000,30.000000 10.000000 66.000000 76.000000))");
	bOK &= testWKB2WKT(
		L"01BD0B00000200000001BD0B00000300000000000000000024400000000000002440000000000000444000000000000049400000000000003440000000000000344000000000000045400000000000004A400000000000002440000000000000444000000000000046400000000000004B4001BD0B000004000000000000000000444000000000000044400000000000004E4000000000008051400000000000003E400000000000003E400000000000004F40000000000000524000000000000044400000000000003440000000000000504000000000008052400000000000003E40000000000000244000000000008050400000000000005340",
		L"MULTILINESTRING ZM ((10.000000 10.000000 40.000000 50.000000,20.000000 20.000000 42.000000 52.000000,10.000000 40.000000 44.000000 54.000000),(40.000000 40.000000 60.000000 70.000000,30.000000 30.000000 62.000000 72.000000,40.000000 20.000000 64.000000 74.000000,30.000000 10.000000 66.000000 76.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01BD0B00000200000001BD0B00000300000000000000000024400000000000002440000000000000444000000000000049400000000000003440000000000000344000000000000045400000000000004A400000000000002440000000000000444000000000000046400000000000004B4001BD0B000004000000000000000000444000000000000044400000000000004E4000000000008051400000000000003E400000000000003E400000000000004F40000000000000524000000000000044400000000000003440000000000000504000000000008052400000000000003E40000000000000244000000000008050400000000000005340",
		L"47500009000000000000000000002440000000000000444000000000000024400000000000004440000000000000444000000000008050400000000000004940000000000000534001BD0B00000200000001BD0B00000300000000000000000024400000000000002440000000000000444000000000000049400000000000003440000000000000344000000000000045400000000000004A400000000000002440000000000000444000000000000046400000000000004B4001BD0B000004000000000000000000444000000000000044400000000000004E4000000000008051400000000000003E400000000000003E400000000000004F40000000000000524000000000000044400000000000003440000000000000504000000000008052400000000000003E40000000000000244000000000008050400000000000005340");
	return bOK;
}
bool WkbTester::test_POLYGON1()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POLYGON ((30 10, 10 20, 20 40, 40 40, 30 10))",
		L"47500003000000000000000000002440000000000000444000000000000024400000000000004440010300000001000000050000000000000000003E4000000000000024400000000000002440000000000000344000000000000034400000000000004440000000000000444000000000000044400000000000003E400000000000002440");
	bOK &= testGPKGWKB2WKT(
		L"47500003000000000000000000002440000000000000444000000000000024400000000000004440010300000001000000050000000000000000003E4000000000000024400000000000002440000000000000344000000000000034400000000000004440000000000000444000000000000044400000000000003E400000000000002440",
		L"POLYGON ((30.000000 10.000000,10.000000 20.000000,20.000000 40.000000,40.000000 40.000000,30.000000 10.000000))");
	bOK &= testWKB2WKT(
		L"010300000001000000050000000000000000003E4000000000000024400000000000002440000000000000344000000000000034400000000000004440000000000000444000000000000044400000000000003E400000000000002440",
		L"POLYGON ((30.000000 10.000000,10.000000 20.000000,20.000000 40.000000,40.000000 40.000000,30.000000 10.000000))");
	bOK &= testWKB2GPKGWKB(
		L"010300000001000000050000000000000000003E4000000000000024400000000000002440000000000000344000000000000034400000000000004440000000000000444000000000000044400000000000003E400000000000002440",
		L"47500003000000000000000000002440000000000000444000000000000024400000000000004440010300000001000000050000000000000000003E4000000000000024400000000000002440000000000000344000000000000034400000000000004440000000000000444000000000000044400000000000003E400000000000002440");
	return bOK;
}
bool WkbTester::test_POLYGON1_Z()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POLYGON Z ((30 10 40, 10 20 42, 20 40 44, 40 40 46, 30 10 48))",
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000484001EB03000001000000050000000000000000003E40000000000000244000000000000044400000000000002440000000000000344000000000000045400000000000003440000000000000444000000000000046400000000000004440000000000000444000000000000047400000000000003E4000000000000024400000000000004840");
	bOK &= testGPKGWKB2WKT(
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000484001EB03000001000000050000000000000000003E40000000000000244000000000000044400000000000002440000000000000344000000000000045400000000000003440000000000000444000000000000046400000000000004440000000000000444000000000000047400000000000003E4000000000000024400000000000004840",
		L"POLYGON Z ((30.000000 10.000000 40.000000,10.000000 20.000000 42.000000,20.000000 40.000000 44.000000,40.000000 40.000000 46.000000,30.000000 10.000000 48.000000))");
	bOK &= testWKB2WKT(
		L"01EB03000001000000050000000000000000003E40000000000000244000000000000044400000000000002440000000000000344000000000000045400000000000003440000000000000444000000000000046400000000000004440000000000000444000000000000047400000000000003E4000000000000024400000000000004840",
		L"POLYGON Z ((30.000000 10.000000 40.000000,10.000000 20.000000 42.000000,20.000000 40.000000 44.000000,40.000000 40.000000 46.000000,30.000000 10.000000 48.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01EB03000001000000050000000000000000003E40000000000000244000000000000044400000000000002440000000000000344000000000000045400000000000003440000000000000444000000000000046400000000000004440000000000000444000000000000047400000000000003E4000000000000024400000000000004840",
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000484001EB03000001000000050000000000000000003E40000000000000244000000000000044400000000000002440000000000000344000000000000045400000000000003440000000000000444000000000000046400000000000004440000000000000444000000000000047400000000000003E4000000000000024400000000000004840");
	return bOK;
}
bool WkbTester::test_POLYGON1_M()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POLYGON M ((30 10 50, 10 20 52, 20 40 54, 40 40 56, 30 10 58))",
		L"4750000700000000000000000000244000000000000044400000000000002440000000000000444000000000000049400000000000004D4001D307000001000000050000000000000000003E4000000000000024400000000000004940000000000000244000000000000034400000000000004A40000000000000344000000000000044400000000000004B40000000000000444000000000000044400000000000004C400000000000003E4000000000000024400000000000004D40");
	bOK &= testGPKGWKB2WKT(
		L"4750000700000000000000000000244000000000000044400000000000002440000000000000444000000000000049400000000000004D4001D307000001000000050000000000000000003E4000000000000024400000000000004940000000000000244000000000000034400000000000004A40000000000000344000000000000044400000000000004B40000000000000444000000000000044400000000000004C400000000000003E4000000000000024400000000000004D40",
		L"POLYGON M ((30.000000 10.000000 50.000000,10.000000 20.000000 52.000000,20.000000 40.000000 54.000000,40.000000 40.000000 56.000000,30.000000 10.000000 58.000000))");
	bOK &= testWKB2WKT(
		L"01D307000001000000050000000000000000003E4000000000000024400000000000004940000000000000244000000000000034400000000000004A40000000000000344000000000000044400000000000004B40000000000000444000000000000044400000000000004C400000000000003E4000000000000024400000000000004D40",
		L"POLYGON M ((30.000000 10.000000 50.000000,10.000000 20.000000 52.000000,20.000000 40.000000 54.000000,40.000000 40.000000 56.000000,30.000000 10.000000 58.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01D307000001000000050000000000000000003E4000000000000024400000000000004940000000000000244000000000000034400000000000004A40000000000000344000000000000044400000000000004B40000000000000444000000000000044400000000000004C400000000000003E4000000000000024400000000000004D40",
		L"4750000700000000000000000000244000000000000044400000000000002440000000000000444000000000000049400000000000004D4001D307000001000000050000000000000000003E4000000000000024400000000000004940000000000000244000000000000034400000000000004A40000000000000344000000000000044400000000000004B40000000000000444000000000000044400000000000004C400000000000003E4000000000000024400000000000004D40");
	return bOK;
}
bool WkbTester::test_POLYGON1_ZM()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POLYGON ZM ((30 10 40 50, 10 20 42 52, 20 40 44 54, 40 40 46 56, 30 10 48 58))",
		L"475000090000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000484000000000000049400000000000004D4001BB0B000001000000050000000000000000003E400000000000002440000000000000444000000000000049400000000000002440000000000000344000000000000045400000000000004A400000000000003440000000000000444000000000000046400000000000004B400000000000004440000000000000444000000000000047400000000000004C400000000000003E40000000000000244000000000000048400000000000004D40");
	bOK &= testGPKGWKB2WKT(
		L"475000090000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000484000000000000049400000000000004D4001BB0B000001000000050000000000000000003E400000000000002440000000000000444000000000000049400000000000002440000000000000344000000000000045400000000000004A400000000000003440000000000000444000000000000046400000000000004B400000000000004440000000000000444000000000000047400000000000004C400000000000003E40000000000000244000000000000048400000000000004D40",
		L"POLYGON ZM ((30.000000 10.000000 40.000000 50.000000,10.000000 20.000000 42.000000 52.000000,20.000000 40.000000 44.000000 54.000000,40.000000 40.000000 46.000000 56.000000,30.000000 10.000000 48.000000 58.000000))");
	bOK &= testWKB2WKT(
		L"01BB0B000001000000050000000000000000003E400000000000002440000000000000444000000000000049400000000000002440000000000000344000000000000045400000000000004A400000000000003440000000000000444000000000000046400000000000004B400000000000004440000000000000444000000000000047400000000000004C400000000000003E40000000000000244000000000000048400000000000004D40",
		L"POLYGON ZM ((30.000000 10.000000 40.000000 50.000000,10.000000 20.000000 42.000000 52.000000,20.000000 40.000000 44.000000 54.000000,40.000000 40.000000 46.000000 56.000000,30.000000 10.000000 48.000000 58.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01BB0B000001000000050000000000000000003E400000000000002440000000000000444000000000000049400000000000002440000000000000344000000000000045400000000000004A400000000000003440000000000000444000000000000046400000000000004B400000000000004440000000000000444000000000000047400000000000004C400000000000003E40000000000000244000000000000048400000000000004D40",
		L"475000090000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000484000000000000049400000000000004D4001BB0B000001000000050000000000000000003E400000000000002440000000000000444000000000000049400000000000002440000000000000344000000000000045400000000000004A400000000000003440000000000000444000000000000046400000000000004B400000000000004440000000000000444000000000000047400000000000004C400000000000003E40000000000000244000000000000048400000000000004D40");
	return bOK;
}
bool WkbTester::test_POLYGON2()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POLYGON ((35 10, 10 20, 15 40, 45 45, 35 10),(20 30, 35 35, 30 20, 20 30))",
		L"475000030000000000000000000024400000000000804640000000000000244000000000008046400103000000020000000500000000000000008041400000000000002440000000000000244000000000000034400000000000002E40000000000000444000000000008046400000000000804640000000000080414000000000000024400400000000000000000034400000000000003E40000000000080414000000000008041400000000000003E40000000000000344000000000000034400000000000003E40");
	bOK &= testGPKGWKB2WKT(
		L"475000030000000000000000000024400000000000804640000000000000244000000000008046400103000000020000000500000000000000008041400000000000002440000000000000244000000000000034400000000000002E40000000000000444000000000008046400000000000804640000000000080414000000000000024400400000000000000000034400000000000003E40000000000080414000000000008041400000000000003E40000000000000344000000000000034400000000000003E40",
		L"POLYGON ((35.000000 10.000000,10.000000 20.000000,15.000000 40.000000,45.000000 45.000000,35.000000 10.000000),(20.000000 30.000000,35.000000 35.000000,30.000000 20.000000,20.000000 30.000000))");
	bOK &= testWKB2WKT(
		L"0103000000020000000500000000000000008041400000000000002440000000000000244000000000000034400000000000002E40000000000000444000000000008046400000000000804640000000000080414000000000000024400400000000000000000034400000000000003E40000000000080414000000000008041400000000000003E40000000000000344000000000000034400000000000003E40",
		L"POLYGON ((35.000000 10.000000,10.000000 20.000000,15.000000 40.000000,45.000000 45.000000,35.000000 10.000000),(20.000000 30.000000,35.000000 35.000000,30.000000 20.000000,20.000000 30.000000))");
	bOK &= testWKB2GPKGWKB(
		L"0103000000020000000500000000000000008041400000000000002440000000000000244000000000000034400000000000002E40000000000000444000000000008046400000000000804640000000000080414000000000000024400400000000000000000034400000000000003E40000000000080414000000000008041400000000000003E40000000000000344000000000000034400000000000003E40",
		L"475000030000000000000000000024400000000000804640000000000000244000000000008046400103000000020000000500000000000000008041400000000000002440000000000000244000000000000034400000000000002E40000000000000444000000000008046400000000000804640000000000080414000000000000024400400000000000000000034400000000000003E40000000000080414000000000008041400000000000003E40000000000000344000000000000034400000000000003E40");
	return bOK;
}
bool WkbTester::test_POLYGON2_Z()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POLYGON Z ((35 10 40, 10 20 42, 15 40 44, 45 45 46, 35 10 48),(20 30 60, 35 35 62, 30 20 64, 20 30 66))",
		L"475000050000000000000000000024400000000000804640000000000000244000000000008046400000000000004440000000000080504001EB03000002000000050000000000000000804140000000000000244000000000000044400000000000002440000000000000344000000000000045400000000000002E40000000000000444000000000000046400000000000804640000000000080464000000000000047400000000000804140000000000000244000000000000048400400000000000000000034400000000000003E400000000000004E40000000000080414000000000008041400000000000004F400000000000003E400000000000003440000000000000504000000000000034400000000000003E400000000000805040");
	bOK &= testGPKGWKB2WKT(
		L"475000050000000000000000000024400000000000804640000000000000244000000000008046400000000000004440000000000080504001EB03000002000000050000000000000000804140000000000000244000000000000044400000000000002440000000000000344000000000000045400000000000002E40000000000000444000000000000046400000000000804640000000000080464000000000000047400000000000804140000000000000244000000000000048400400000000000000000034400000000000003E400000000000004E40000000000080414000000000008041400000000000004F400000000000003E400000000000003440000000000000504000000000000034400000000000003E400000000000805040",
		L"POLYGON Z ((35.000000 10.000000 40.000000,10.000000 20.000000 42.000000,15.000000 40.000000 44.000000,45.000000 45.000000 46.000000,35.000000 10.000000 48.000000),(20.000000 30.000000 60.000000,35.000000 35.000000 62.000000,30.000000 20.000000 64.000000,20.000000 30.000000 66.000000))");
	bOK &= testWKB2WKT(
		L"01EB03000002000000050000000000000000804140000000000000244000000000000044400000000000002440000000000000344000000000000045400000000000002E40000000000000444000000000000046400000000000804640000000000080464000000000000047400000000000804140000000000000244000000000000048400400000000000000000034400000000000003E400000000000004E40000000000080414000000000008041400000000000004F400000000000003E400000000000003440000000000000504000000000000034400000000000003E400000000000805040",
		L"POLYGON Z ((35.000000 10.000000 40.000000,10.000000 20.000000 42.000000,15.000000 40.000000 44.000000,45.000000 45.000000 46.000000,35.000000 10.000000 48.000000),(20.000000 30.000000 60.000000,35.000000 35.000000 62.000000,30.000000 20.000000 64.000000,20.000000 30.000000 66.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01EB03000002000000050000000000000000804140000000000000244000000000000044400000000000002440000000000000344000000000000045400000000000002E40000000000000444000000000000046400000000000804640000000000080464000000000000047400000000000804140000000000000244000000000000048400400000000000000000034400000000000003E400000000000004E40000000000080414000000000008041400000000000004F400000000000003E400000000000003440000000000000504000000000000034400000000000003E400000000000805040",
		L"475000050000000000000000000024400000000000804640000000000000244000000000008046400000000000004440000000000080504001EB03000002000000050000000000000000804140000000000000244000000000000044400000000000002440000000000000344000000000000045400000000000002E40000000000000444000000000000046400000000000804640000000000080464000000000000047400000000000804140000000000000244000000000000048400400000000000000000034400000000000003E400000000000004E40000000000080414000000000008041400000000000004F400000000000003E400000000000003440000000000000504000000000000034400000000000003E400000000000805040");
	return bOK;
}
bool WkbTester::test_POLYGON2_M()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POLYGON M ((35 10 50, 10 20 52, 15 40 54, 45 45 56, 35 10 58),(20 30 70, 35 35 72, 30 20 74, 20 30 76))",
		L"475000070000000000000000000024400000000000804640000000000000244000000000008046400000000000004940000000000000534001D30700000200000005000000000000000080414000000000000024400000000000004940000000000000244000000000000034400000000000004A400000000000002E4000000000000044400000000000004B40000000000080464000000000008046400000000000004C40000000000080414000000000000024400000000000004D400400000000000000000034400000000000003E4000000000008051400000000000804140000000000080414000000000000052400000000000003E400000000000003440000000000080524000000000000034400000000000003E400000000000005340");
	bOK &= testGPKGWKB2WKT(
		L"475000070000000000000000000024400000000000804640000000000000244000000000008046400000000000004940000000000000534001D30700000200000005000000000000000080414000000000000024400000000000004940000000000000244000000000000034400000000000004A400000000000002E4000000000000044400000000000004B40000000000080464000000000008046400000000000004C40000000000080414000000000000024400000000000004D400400000000000000000034400000000000003E4000000000008051400000000000804140000000000080414000000000000052400000000000003E400000000000003440000000000080524000000000000034400000000000003E400000000000005340",
		L"POLYGON M ((35.000000 10.000000 50.000000,10.000000 20.000000 52.000000,15.000000 40.000000 54.000000,45.000000 45.000000 56.000000,35.000000 10.000000 58.000000),(20.000000 30.000000 70.000000,35.000000 35.000000 72.000000,30.000000 20.000000 74.000000,20.000000 30.000000 76.000000))");
	bOK &= testWKB2WKT(
		L"01D30700000200000005000000000000000080414000000000000024400000000000004940000000000000244000000000000034400000000000004A400000000000002E4000000000000044400000000000004B40000000000080464000000000008046400000000000004C40000000000080414000000000000024400000000000004D400400000000000000000034400000000000003E4000000000008051400000000000804140000000000080414000000000000052400000000000003E400000000000003440000000000080524000000000000034400000000000003E400000000000005340",
		L"POLYGON M ((35.000000 10.000000 50.000000,10.000000 20.000000 52.000000,15.000000 40.000000 54.000000,45.000000 45.000000 56.000000,35.000000 10.000000 58.000000),(20.000000 30.000000 70.000000,35.000000 35.000000 72.000000,30.000000 20.000000 74.000000,20.000000 30.000000 76.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01D30700000200000005000000000000000080414000000000000024400000000000004940000000000000244000000000000034400000000000004A400000000000002E4000000000000044400000000000004B40000000000080464000000000008046400000000000004C40000000000080414000000000000024400000000000004D400400000000000000000034400000000000003E4000000000008051400000000000804140000000000080414000000000000052400000000000003E400000000000003440000000000080524000000000000034400000000000003E400000000000005340",
		L"475000070000000000000000000024400000000000804640000000000000244000000000008046400000000000004940000000000000534001D30700000200000005000000000000000080414000000000000024400000000000004940000000000000244000000000000034400000000000004A400000000000002E4000000000000044400000000000004B40000000000080464000000000008046400000000000004C40000000000080414000000000000024400000000000004D400400000000000000000034400000000000003E4000000000008051400000000000804140000000000080414000000000000052400000000000003E400000000000003440000000000080524000000000000034400000000000003E400000000000005340");
	return bOK;
}
bool WkbTester::test_POLYGON2_ZM()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"POLYGON ZM ((35 10 40 50, 10 20 42 52, 15 40 44 54, 45 45 46 56, 35 10 48 58),(20 30 60 70, 35 35 62 72, 30 20 64 74, 20 30 66 76))",
		L"47500009000000000000000000002440000000000080464000000000000024400000000000804640000000000000444000000000008050400000000000004940000000000000534001BB0B0000020000000500000000000000008041400000000000002440000000000000444000000000000049400000000000002440000000000000344000000000000045400000000000004A400000000000002E40000000000000444000000000000046400000000000004B400000000000804640000000000080464000000000000047400000000000004C400000000000804140000000000000244000000000000048400000000000004D400400000000000000000034400000000000003E400000000000004E400000000000805140000000000080414000000000008041400000000000004F4000000000000052400000000000003E4000000000000034400000000000005040000000000080524000000000000034400000000000003E4000000000008050400000000000005340");
	bOK &= testGPKGWKB2WKT(
		L"47500009000000000000000000002440000000000080464000000000000024400000000000804640000000000000444000000000008050400000000000004940000000000000534001BB0B0000020000000500000000000000008041400000000000002440000000000000444000000000000049400000000000002440000000000000344000000000000045400000000000004A400000000000002E40000000000000444000000000000046400000000000004B400000000000804640000000000080464000000000000047400000000000004C400000000000804140000000000000244000000000000048400000000000004D400400000000000000000034400000000000003E400000000000004E400000000000805140000000000080414000000000008041400000000000004F4000000000000052400000000000003E4000000000000034400000000000005040000000000080524000000000000034400000000000003E4000000000008050400000000000005340",
		L"POLYGON ZM ((35.000000 10.000000 40.000000 50.000000,10.000000 20.000000 42.000000 52.000000,15.000000 40.000000 44.000000 54.000000,45.000000 45.000000 46.000000 56.000000,35.000000 10.000000 48.000000 58.000000),(20.000000 30.000000 60.000000 70.000000,35.000000 35.000000 62.000000 72.000000,30.000000 20.000000 64.000000 74.000000,20.000000 30.000000 66.000000 76.000000))");
	bOK &= testWKB2WKT(
		L"01BB0B0000020000000500000000000000008041400000000000002440000000000000444000000000000049400000000000002440000000000000344000000000000045400000000000004A400000000000002E40000000000000444000000000000046400000000000004B400000000000804640000000000080464000000000000047400000000000004C400000000000804140000000000000244000000000000048400000000000004D400400000000000000000034400000000000003E400000000000004E400000000000805140000000000080414000000000008041400000000000004F4000000000000052400000000000003E4000000000000034400000000000005040000000000080524000000000000034400000000000003E4000000000008050400000000000005340",
		L"POLYGON ZM ((35.000000 10.000000 40.000000 50.000000,10.000000 20.000000 42.000000 52.000000,15.000000 40.000000 44.000000 54.000000,45.000000 45.000000 46.000000 56.000000,35.000000 10.000000 48.000000 58.000000),(20.000000 30.000000 60.000000 70.000000,35.000000 35.000000 62.000000 72.000000,30.000000 20.000000 64.000000 74.000000,20.000000 30.000000 66.000000 76.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01BB0B0000020000000500000000000000008041400000000000002440000000000000444000000000000049400000000000002440000000000000344000000000000045400000000000004A400000000000002E40000000000000444000000000000046400000000000004B400000000000804640000000000080464000000000000047400000000000004C400000000000804140000000000000244000000000000048400000000000004D400400000000000000000034400000000000003E400000000000004E400000000000805140000000000080414000000000008041400000000000004F4000000000000052400000000000003E4000000000000034400000000000005040000000000080524000000000000034400000000000003E4000000000008050400000000000005340",
		L"47500009000000000000000000002440000000000080464000000000000024400000000000804640000000000000444000000000008050400000000000004940000000000000534001BB0B0000020000000500000000000000008041400000000000002440000000000000444000000000000049400000000000002440000000000000344000000000000045400000000000004A400000000000002E40000000000000444000000000000046400000000000004B400000000000804640000000000080464000000000000047400000000000004C400000000000804140000000000000244000000000000048400000000000004D400400000000000000000034400000000000003E400000000000004E400000000000805140000000000080414000000000008041400000000000004F4000000000000052400000000000003E4000000000000034400000000000005040000000000080524000000000000034400000000000003E4000000000008050400000000000005340");
	return bOK;
}
bool WkbTester::test_MULTIPOINT()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOINT ((10 40), (40 30), (20 20), (30 10))",
		L"47500003000000000000000000002440000000000000444000000000000024400000000000004440010400000004000000010100000000000000000024400000000000004440010100000000000000000044400000000000003E4001010000000000000000003440000000000000344001010000000000000000003E400000000000002440");
	bOK &= testGPKGWKB2WKT(
		L"47500003000000000000000000002440000000000000444000000000000024400000000000004440010400000004000000010100000000000000000024400000000000004440010100000000000000000044400000000000003E4001010000000000000000003440000000000000344001010000000000000000003E400000000000002440",
		L"MULTIPOINT ((10.000000 40.000000),(40.000000 30.000000),(20.000000 20.000000),(30.000000 10.000000))");
	bOK &= testWKB2WKT(
		L"010400000004000000010100000000000000000024400000000000004440010100000000000000000044400000000000003E4001010000000000000000003440000000000000344001010000000000000000003E400000000000002440",
		L"MULTIPOINT ((10.000000 40.000000),(40.000000 30.000000),(20.000000 20.000000),(30.000000 10.000000))");
	bOK &= testWKB2GPKGWKB(
		L"010400000004000000010100000000000000000024400000000000004440010100000000000000000044400000000000003E4001010000000000000000003440000000000000344001010000000000000000003E400000000000002440",
		L"47500003000000000000000000002440000000000000444000000000000024400000000000004440010400000004000000010100000000000000000024400000000000004440010100000000000000000044400000000000003E4001010000000000000000003440000000000000344001010000000000000000003E400000000000002440");
	return bOK;
}
bool WkbTester::test_MULTIPOINT_Z()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOINT Z ((10 40 40), (40 30 42), (20 20 44), (30 10 46))",
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000474001EC030000040000000101000000000000000000244000000000000044400000000000004440010100000000000000000044400000000000003E400000000000004540010100000000000000000034400000000000003440000000000000464001010000000000000000003E4000000000000024400000000000004740");
	bOK &= testGPKGWKB2WKT(
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000474001EC030000040000000101000000000000000000244000000000000044400000000000004440010100000000000000000044400000000000003E400000000000004540010100000000000000000034400000000000003440000000000000464001010000000000000000003E4000000000000024400000000000004740",
		L"MULTIPOINT Z ((10.000000 40.000000 40.000000),(40.000000 30.000000 42.000000),(20.000000 20.000000 44.000000),(30.000000 10.000000 46.000000))");
	bOK &= testWKB2WKT(
		L"01EC030000040000000101000000000000000000244000000000000044400000000000004440010100000000000000000044400000000000003E400000000000004540010100000000000000000034400000000000003440000000000000464001010000000000000000003E4000000000000024400000000000004740",
		L"MULTIPOINT Z ((10.000000 40.000000 40.000000),(40.000000 30.000000 42.000000),(20.000000 20.000000 44.000000),(30.000000 10.000000 46.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01EC030000040000000101000000000000000000244000000000000044400000000000004440010100000000000000000044400000000000003E400000000000004540010100000000000000000034400000000000003440000000000000464001010000000000000000003E4000000000000024400000000000004740",
		L"475000050000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000474001EC030000040000000101000000000000000000244000000000000044400000000000004440010100000000000000000044400000000000003E400000000000004540010100000000000000000034400000000000003440000000000000464001010000000000000000003E4000000000000024400000000000004740");
	return bOK;
}
bool WkbTester::test_MULTIPOINT_M()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOINT M ((10 40 50), (40 30 52), (20 20 54), (30 10 56))",
		L"4750000700000000000000000000244000000000000044400000000000002440000000000000444000000000000049400000000000004C4001D4070000040000000101000000000000000000244000000000000044400000000000004940010100000000000000000044400000000000003E400000000000004A400101000000000000000000344000000000000034400000000000004B4001010000000000000000003E4000000000000024400000000000004C40");
	bOK &= testGPKGWKB2WKT(
		L"4750000700000000000000000000244000000000000044400000000000002440000000000000444000000000000049400000000000004C4001D4070000040000000101000000000000000000244000000000000044400000000000004940010100000000000000000044400000000000003E400000000000004A400101000000000000000000344000000000000034400000000000004B4001010000000000000000003E4000000000000024400000000000004C40",
		L"MULTIPOINT M ((10.000000 40.000000 50.000000),(40.000000 30.000000 52.000000),(20.000000 20.000000 54.000000),(30.000000 10.000000 56.000000))");
	bOK &= testWKB2WKT(
		L"01D4070000040000000101000000000000000000244000000000000044400000000000004940010100000000000000000044400000000000003E400000000000004A400101000000000000000000344000000000000034400000000000004B4001010000000000000000003E4000000000000024400000000000004C40",
		L"MULTIPOINT M ((10.000000 40.000000 50.000000),(40.000000 30.000000 52.000000),(20.000000 20.000000 54.000000),(30.000000 10.000000 56.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01D4070000040000000101000000000000000000244000000000000044400000000000004940010100000000000000000044400000000000003E400000000000004A400101000000000000000000344000000000000034400000000000004B4001010000000000000000003E4000000000000024400000000000004C40",
		L"4750000700000000000000000000244000000000000044400000000000002440000000000000444000000000000049400000000000004C4001D4070000040000000101000000000000000000244000000000000044400000000000004940010100000000000000000044400000000000003E400000000000004A400101000000000000000000344000000000000034400000000000004B4001010000000000000000003E4000000000000024400000000000004C40");
	return bOK;
}
bool WkbTester::test_MULTIPOINT_ZM()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOINT ZM ((10 40 40 50), (40 30 42 52), (20 20 44 54), (30 10 46 56))",
		L"475000090000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000474000000000000049400000000000004C4001BC0B00000400000001010000000000000000002440000000000000444000000000000044400000000000004940010100000000000000000044400000000000003E4000000000000045400000000000004A4001010000000000000000003440000000000000344000000000000046400000000000004B4001010000000000000000003E40000000000000244000000000000047400000000000004C40");
	bOK &= testGPKGWKB2WKT(
		L"475000090000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000474000000000000049400000000000004C4001BC0B00000400000001010000000000000000002440000000000000444000000000000044400000000000004940010100000000000000000044400000000000003E4000000000000045400000000000004A4001010000000000000000003440000000000000344000000000000046400000000000004B4001010000000000000000003E40000000000000244000000000000047400000000000004C40",
		L"MULTIPOINT ZM ((10.000000 40.000000 40.000000 50.000000),(40.000000 30.000000 42.000000 52.000000),(20.000000 20.000000 44.000000 54.000000),(30.000000 10.000000 46.000000 56.000000))");
	bOK &= testWKB2WKT(
		L"01BC0B00000400000001010000000000000000002440000000000000444000000000000044400000000000004940010100000000000000000044400000000000003E4000000000000045400000000000004A4001010000000000000000003440000000000000344000000000000046400000000000004B4001010000000000000000003E40000000000000244000000000000047400000000000004C40",
		L"MULTIPOINT ZM ((10.000000 40.000000 40.000000 50.000000),(40.000000 30.000000 42.000000 52.000000),(20.000000 20.000000 44.000000 54.000000),(30.000000 10.000000 46.000000 56.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01BC0B00000400000001010000000000000000002440000000000000444000000000000044400000000000004940010100000000000000000044400000000000003E4000000000000045400000000000004A4001010000000000000000003440000000000000344000000000000046400000000000004B4001010000000000000000003E40000000000000244000000000000047400000000000004C40",
		L"475000090000000000000000000024400000000000004440000000000000244000000000000044400000000000004440000000000000474000000000000049400000000000004C4001BC0B00000400000001010000000000000000002440000000000000444000000000000044400000000000004940010100000000000000000044400000000000003E4000000000000045400000000000004A4001010000000000000000003440000000000000344000000000000046400000000000004B4001010000000000000000003E40000000000000244000000000000047400000000000004C40");
	return bOK;
}
bool WkbTester::test_MULTIPOLYGON1()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOLYGON (((30 20, 10 40, 45 40, 30 20)),((15 5, 40 10, 10 20, 5 10, 15 5)))",
		L"47500003000000000000000000001440000000000080464000000000000014400000000000004440010600000002000000010600000001000000040000000000000000003E40000000000000344000000000000024400000000000004440000000000080464000000000000044400000000000003E400000000000003440010600000001000000050000000000000000002E4000000000000014400000000000004440000000000000244000000000000024400000000000003440000000000000144000000000000024400000000000002E400000000000001440");
	bOK &= testGPKGWKB2WKT(
		L"47500003000000000000000000001440000000000080464000000000000014400000000000004440010600000002000000010600000001000000040000000000000000003E40000000000000344000000000000024400000000000004440000000000080464000000000000044400000000000003E400000000000003440010600000001000000050000000000000000002E4000000000000014400000000000004440000000000000244000000000000024400000000000003440000000000000144000000000000024400000000000002E400000000000001440",
		L"MULTIPOLYGON (((30.000000 20.000000,10.000000 40.000000,45.000000 40.000000,30.000000 20.000000)),((15.000000 5.000000,40.000000 10.000000,10.000000 20.000000,5.000000 10.000000,15.000000 5.000000)))");
	bOK &= testWKB2WKT(
		L"010600000002000000010600000001000000040000000000000000003E40000000000000344000000000000024400000000000004440000000000080464000000000000044400000000000003E400000000000003440010600000001000000050000000000000000002E4000000000000014400000000000004440000000000000244000000000000024400000000000003440000000000000144000000000000024400000000000002E400000000000001440",
		L"MULTIPOLYGON (((30.000000 20.000000,10.000000 40.000000,45.000000 40.000000,30.000000 20.000000)),((15.000000 5.000000,40.000000 10.000000,10.000000 20.000000,5.000000 10.000000,15.000000 5.000000)))");
	bOK &= testWKB2GPKGWKB(
		L"010600000002000000010600000001000000040000000000000000003E40000000000000344000000000000024400000000000004440000000000080464000000000000044400000000000003E400000000000003440010600000001000000050000000000000000002E4000000000000014400000000000004440000000000000244000000000000024400000000000003440000000000000144000000000000024400000000000002E400000000000001440",
		L"47500003000000000000000000001440000000000080464000000000000014400000000000004440010600000002000000010600000001000000040000000000000000003E40000000000000344000000000000024400000000000004440000000000080464000000000000044400000000000003E400000000000003440010600000001000000050000000000000000002E4000000000000014400000000000004440000000000000244000000000000024400000000000003440000000000000144000000000000024400000000000002E400000000000001440");
	return bOK;
}
bool WkbTester::test_MULTIPOLYGON1_Z()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOLYGON Z (((30 20 40, 10 40 42, 45 40 44, 30 20 46)),((15 5 60, 40 10 62, 10 20 64, 5 10 66, 15 5 68)))",
		L"475000050000000000000000000014400000000000804640000000000000144000000000000044400000000000004440000000000000514001EE0300000200000001EE03000001000000040000000000000000003E40000000000000344000000000000044400000000000002440000000000000444000000000000045400000000000804640000000000000444000000000000046400000000000003E400000000000003440000000000000474001EE03000001000000050000000000000000002E4000000000000014400000000000004E40000000000000444000000000000024400000000000004F400000000000002440000000000000344000000000000050400000000000001440000000000000244000000000008050400000000000002E4000000000000014400000000000005140");
	bOK &= testGPKGWKB2WKT(
		L"475000050000000000000000000014400000000000804640000000000000144000000000000044400000000000004440000000000000514001EE0300000200000001EE03000001000000040000000000000000003E40000000000000344000000000000044400000000000002440000000000000444000000000000045400000000000804640000000000000444000000000000046400000000000003E400000000000003440000000000000474001EE03000001000000050000000000000000002E4000000000000014400000000000004E40000000000000444000000000000024400000000000004F400000000000002440000000000000344000000000000050400000000000001440000000000000244000000000008050400000000000002E4000000000000014400000000000005140",
		L"MULTIPOLYGON Z (((30.000000 20.000000 40.000000,10.000000 40.000000 42.000000,45.000000 40.000000 44.000000,30.000000 20.000000 46.000000)),((15.000000 5.000000 60.000000,40.000000 10.000000 62.000000,10.000000 20.000000 64.000000,5.000000 10.000000 66.000000,15.000000 5.000000 68.000000)))");
	bOK &= testWKB2WKT(
		L"01EE0300000200000001EE03000001000000040000000000000000003E40000000000000344000000000000044400000000000002440000000000000444000000000000045400000000000804640000000000000444000000000000046400000000000003E400000000000003440000000000000474001EE03000001000000050000000000000000002E4000000000000014400000000000004E40000000000000444000000000000024400000000000004F400000000000002440000000000000344000000000000050400000000000001440000000000000244000000000008050400000000000002E4000000000000014400000000000005140",
		L"MULTIPOLYGON Z (((30.000000 20.000000 40.000000,10.000000 40.000000 42.000000,45.000000 40.000000 44.000000,30.000000 20.000000 46.000000)),((15.000000 5.000000 60.000000,40.000000 10.000000 62.000000,10.000000 20.000000 64.000000,5.000000 10.000000 66.000000,15.000000 5.000000 68.000000)))");
	bOK &= testWKB2GPKGWKB(
		L"01EE0300000200000001EE03000001000000040000000000000000003E40000000000000344000000000000044400000000000002440000000000000444000000000000045400000000000804640000000000000444000000000000046400000000000003E400000000000003440000000000000474001EE03000001000000050000000000000000002E4000000000000014400000000000004E40000000000000444000000000000024400000000000004F400000000000002440000000000000344000000000000050400000000000001440000000000000244000000000008050400000000000002E4000000000000014400000000000005140",
		L"475000050000000000000000000014400000000000804640000000000000144000000000000044400000000000004440000000000000514001EE0300000200000001EE03000001000000040000000000000000003E40000000000000344000000000000044400000000000002440000000000000444000000000000045400000000000804640000000000000444000000000000046400000000000003E400000000000003440000000000000474001EE03000001000000050000000000000000002E4000000000000014400000000000004E40000000000000444000000000000024400000000000004F400000000000002440000000000000344000000000000050400000000000001440000000000000244000000000008050400000000000002E4000000000000014400000000000005140");
	return bOK;
}
bool WkbTester::test_MULTIPOLYGON1_M()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOLYGON M (((30 20 50, 10 40 52, 45 40 54, 30 20 56)),((15 5 70, 40 10 72, 10 20 74, 5 10 76, 15 5 78)))",
		L"475000070000000000000000000014400000000000804640000000000000144000000000000044400000000000004940000000000080534001D60700000200000001D607000001000000040000000000000000003E4000000000000034400000000000004940000000000000244000000000000044400000000000004A40000000000080464000000000000044400000000000004B400000000000003E4000000000000034400000000000004C4001D607000001000000050000000000000000002E40000000000000144000000000008051400000000000004440000000000000244000000000000052400000000000002440000000000000344000000000008052400000000000001440000000000000244000000000000053400000000000002E4000000000000014400000000000805340");
	bOK &= testGPKGWKB2WKT(
		L"475000070000000000000000000014400000000000804640000000000000144000000000000044400000000000004940000000000080534001D60700000200000001D607000001000000040000000000000000003E4000000000000034400000000000004940000000000000244000000000000044400000000000004A40000000000080464000000000000044400000000000004B400000000000003E4000000000000034400000000000004C4001D607000001000000050000000000000000002E40000000000000144000000000008051400000000000004440000000000000244000000000000052400000000000002440000000000000344000000000008052400000000000001440000000000000244000000000000053400000000000002E4000000000000014400000000000805340",
		L"MULTIPOLYGON M (((30.000000 20.000000 50.000000,10.000000 40.000000 52.000000,45.000000 40.000000 54.000000,30.000000 20.000000 56.000000)),((15.000000 5.000000 70.000000,40.000000 10.000000 72.000000,10.000000 20.000000 74.000000,5.000000 10.000000 76.000000,15.000000 5.000000 78.000000)))");
	bOK &= testWKB2WKT(
		L"01D60700000200000001D607000001000000040000000000000000003E4000000000000034400000000000004940000000000000244000000000000044400000000000004A40000000000080464000000000000044400000000000004B400000000000003E4000000000000034400000000000004C4001D607000001000000050000000000000000002E40000000000000144000000000008051400000000000004440000000000000244000000000000052400000000000002440000000000000344000000000008052400000000000001440000000000000244000000000000053400000000000002E4000000000000014400000000000805340",
		L"MULTIPOLYGON M (((30.000000 20.000000 50.000000,10.000000 40.000000 52.000000,45.000000 40.000000 54.000000,30.000000 20.000000 56.000000)),((15.000000 5.000000 70.000000,40.000000 10.000000 72.000000,10.000000 20.000000 74.000000,5.000000 10.000000 76.000000,15.000000 5.000000 78.000000)))");
	bOK &= testWKB2GPKGWKB(
		L"01D60700000200000001D607000001000000040000000000000000003E4000000000000034400000000000004940000000000000244000000000000044400000000000004A40000000000080464000000000000044400000000000004B400000000000003E4000000000000034400000000000004C4001D607000001000000050000000000000000002E40000000000000144000000000008051400000000000004440000000000000244000000000000052400000000000002440000000000000344000000000008052400000000000001440000000000000244000000000000053400000000000002E4000000000000014400000000000805340",
		L"475000070000000000000000000014400000000000804640000000000000144000000000000044400000000000004940000000000080534001D60700000200000001D607000001000000040000000000000000003E4000000000000034400000000000004940000000000000244000000000000044400000000000004A40000000000080464000000000000044400000000000004B400000000000003E4000000000000034400000000000004C4001D607000001000000050000000000000000002E40000000000000144000000000008051400000000000004440000000000000244000000000000052400000000000002440000000000000344000000000008052400000000000001440000000000000244000000000000053400000000000002E4000000000000014400000000000805340");
	return bOK;
}
bool WkbTester::test_MULTIPOLYGON1_ZM()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOLYGON ZM (((30 20 40 50, 10 40 42 52, 45 40 44 54, 30 20 46 56)),((15 5 60 70, 40 10 62 72, 10 20 64 74, 5 10 66 76, 15 5 68 78)))",
		L"47500009000000000000000000001440000000000080464000000000000014400000000000004440000000000000444000000000000051400000000000004940000000000080534001BE0B00000200000001BE0B000001000000040000000000000000003E400000000000003440000000000000444000000000000049400000000000002440000000000000444000000000000045400000000000004A400000000000804640000000000000444000000000000046400000000000004B400000000000003E40000000000000344000000000000047400000000000004C4001BE0B000001000000050000000000000000002E4000000000000014400000000000004E400000000000805140000000000000444000000000000024400000000000004F400000000000005240000000000000244000000000000034400000000000005040000000000080524000000000000014400000000000002440000000000080504000000000000053400000000000002E40000000000000144000000000000051400000000000805340");
	bOK &= testGPKGWKB2WKT(
		L"47500009000000000000000000001440000000000080464000000000000014400000000000004440000000000000444000000000000051400000000000004940000000000080534001BE0B00000200000001BE0B000001000000040000000000000000003E400000000000003440000000000000444000000000000049400000000000002440000000000000444000000000000045400000000000004A400000000000804640000000000000444000000000000046400000000000004B400000000000003E40000000000000344000000000000047400000000000004C4001BE0B000001000000050000000000000000002E4000000000000014400000000000004E400000000000805140000000000000444000000000000024400000000000004F400000000000005240000000000000244000000000000034400000000000005040000000000080524000000000000014400000000000002440000000000080504000000000000053400000000000002E40000000000000144000000000000051400000000000805340",
		L"MULTIPOLYGON ZM (((30.000000 20.000000 40.000000 50.000000,10.000000 40.000000 42.000000 52.000000,45.000000 40.000000 44.000000 54.000000,30.000000 20.000000 46.000000 56.000000)),((15.000000 5.000000 60.000000 70.000000,40.000000 10.000000 62.000000 72.000000,10.000000 20.000000 64.000000 74.000000,5.000000 10.000000 66.000000 76.000000,15.000000 5.000000 68.000000 78.000000)))");
	bOK &= testWKB2WKT(
		L"01BE0B00000200000001BE0B000001000000040000000000000000003E400000000000003440000000000000444000000000000049400000000000002440000000000000444000000000000045400000000000004A400000000000804640000000000000444000000000000046400000000000004B400000000000003E40000000000000344000000000000047400000000000004C4001BE0B000001000000050000000000000000002E4000000000000014400000000000004E400000000000805140000000000000444000000000000024400000000000004F400000000000005240000000000000244000000000000034400000000000005040000000000080524000000000000014400000000000002440000000000080504000000000000053400000000000002E40000000000000144000000000000051400000000000805340",
		L"MULTIPOLYGON ZM (((30.000000 20.000000 40.000000 50.000000,10.000000 40.000000 42.000000 52.000000,45.000000 40.000000 44.000000 54.000000,30.000000 20.000000 46.000000 56.000000)),((15.000000 5.000000 60.000000 70.000000,40.000000 10.000000 62.000000 72.000000,10.000000 20.000000 64.000000 74.000000,5.000000 10.000000 66.000000 76.000000,15.000000 5.000000 68.000000 78.000000)))");
	bOK &= testWKB2GPKGWKB(
		L"01BE0B00000200000001BE0B000001000000040000000000000000003E400000000000003440000000000000444000000000000049400000000000002440000000000000444000000000000045400000000000004A400000000000804640000000000000444000000000000046400000000000004B400000000000003E40000000000000344000000000000047400000000000004C4001BE0B000001000000050000000000000000002E4000000000000014400000000000004E400000000000805140000000000000444000000000000024400000000000004F400000000000005240000000000000244000000000000034400000000000005040000000000080524000000000000014400000000000002440000000000080504000000000000053400000000000002E40000000000000144000000000000051400000000000805340",
		L"47500009000000000000000000001440000000000080464000000000000014400000000000004440000000000000444000000000000051400000000000004940000000000080534001BE0B00000200000001BE0B000001000000040000000000000000003E400000000000003440000000000000444000000000000049400000000000002440000000000000444000000000000045400000000000004A400000000000804640000000000000444000000000000046400000000000004B400000000000003E40000000000000344000000000000047400000000000004C4001BE0B000001000000050000000000000000002E4000000000000014400000000000004E400000000000805140000000000000444000000000000024400000000000004F400000000000005240000000000000244000000000000034400000000000005040000000000080524000000000000014400000000000002440000000000080504000000000000053400000000000002E40000000000000144000000000000051400000000000805340");
	return bOK;
}
bool WkbTester::test_MULTIPOLYGON2()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOLYGON (((40 40, 20 45, 45 30, 40 40)),((20 35, 45 20, 30 5, 10 10, 10 30, 20 35),(30 20, 20 25, 20 15, 30 20)))",
		L"4750000300000000000000000000244000000000008046400000000000001440000000000080464001060000000200000001060000000100000004000000000000000000444000000000000044400000000000003440000000000080464000000000008046400000000000003E40000000000000444000000000000044400106000000020000000600000000000000000034400000000000804140000000000080464000000000000034400000000000003E4000000000000014400000000000002440000000000000244000000000000024400000000000003E4000000000000034400000000000804140040000000000000000003E4000000000000034400000000000003440000000000000394000000000000034400000000000002E400000000000003E400000000000003440");
	bOK &= testGPKGWKB2WKT(
		L"4750000300000000000000000000244000000000008046400000000000001440000000000080464001060000000200000001060000000100000004000000000000000000444000000000000044400000000000003440000000000080464000000000008046400000000000003E40000000000000444000000000000044400106000000020000000600000000000000000034400000000000804140000000000080464000000000000034400000000000003E4000000000000014400000000000002440000000000000244000000000000024400000000000003E4000000000000034400000000000804140040000000000000000003E4000000000000034400000000000003440000000000000394000000000000034400000000000002E400000000000003E400000000000003440",
		L"MULTIPOLYGON (((40.000000 40.000000,20.000000 45.000000,45.000000 30.000000,40.000000 40.000000)),((20.000000 35.000000,45.000000 20.000000,30.000000 5.000000,10.000000 10.000000,10.000000 30.000000,20.000000 35.000000),(30.000000 20.000000,20.000000 25.000000,20.000000 15.000000,30.000000 20.000000)))");
	bOK &= testWKB2WKT(
		L"01060000000200000001060000000100000004000000000000000000444000000000000044400000000000003440000000000080464000000000008046400000000000003E40000000000000444000000000000044400106000000020000000600000000000000000034400000000000804140000000000080464000000000000034400000000000003E4000000000000014400000000000002440000000000000244000000000000024400000000000003E4000000000000034400000000000804140040000000000000000003E4000000000000034400000000000003440000000000000394000000000000034400000000000002E400000000000003E400000000000003440",
		L"MULTIPOLYGON (((40.000000 40.000000,20.000000 45.000000,45.000000 30.000000,40.000000 40.000000)),((20.000000 35.000000,45.000000 20.000000,30.000000 5.000000,10.000000 10.000000,10.000000 30.000000,20.000000 35.000000),(30.000000 20.000000,20.000000 25.000000,20.000000 15.000000,30.000000 20.000000)))");
	bOK &= testWKB2GPKGWKB(
		L"01060000000200000001060000000100000004000000000000000000444000000000000044400000000000003440000000000080464000000000008046400000000000003E40000000000000444000000000000044400106000000020000000600000000000000000034400000000000804140000000000080464000000000000034400000000000003E4000000000000014400000000000002440000000000000244000000000000024400000000000003E4000000000000034400000000000804140040000000000000000003E4000000000000034400000000000003440000000000000394000000000000034400000000000002E400000000000003E400000000000003440",
		L"4750000300000000000000000000244000000000008046400000000000001440000000000080464001060000000200000001060000000100000004000000000000000000444000000000000044400000000000003440000000000080464000000000008046400000000000003E40000000000000444000000000000044400106000000020000000600000000000000000034400000000000804140000000000080464000000000000034400000000000003E4000000000000014400000000000002440000000000000244000000000000024400000000000003E4000000000000034400000000000804140040000000000000000003E4000000000000034400000000000003440000000000000394000000000000034400000000000002E400000000000003E400000000000003440");
	return bOK;
}
bool WkbTester::test_MULTIPOLYGON2_Z()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOLYGON Z (((40 40 40, 20 45 42, 45 30 44, 40 40 46)),((20 35 60, 45 20 62, 30 5 64, 10 10 66, 10 30 68, 20 35 70),(30 20 80, 20 25 82, 20 15 84, 30 20 86)))",
		L"475000050000000000000000000024400000000000804640000000000000144000000000008046400000000000004440000000000080554001EE0300000200000001EE030000010000000400000000000000000044400000000000004440000000000000444000000000000034400000000000804640000000000000454000000000008046400000000000003E40000000000000464000000000000044400000000000004440000000000000474001EE0300000200000006000000000000000000344000000000008041400000000000004E40000000000080464000000000000034400000000000004F400000000000003E400000000000001440000000000000504000000000000024400000000000002440000000000080504000000000000024400000000000003E400000000000005140000000000000344000000000008041400000000000805140040000000000000000003E400000000000003440000000000000544000000000000034400000000000003940000000000080544000000000000034400000000000002E4000000000000055400000000000003E4000000000000034400000000000805540");
	bOK &= testGPKGWKB2WKT(
		L"475000050000000000000000000024400000000000804640000000000000144000000000008046400000000000004440000000000080554001EE0300000200000001EE030000010000000400000000000000000044400000000000004440000000000000444000000000000034400000000000804640000000000000454000000000008046400000000000003E40000000000000464000000000000044400000000000004440000000000000474001EE0300000200000006000000000000000000344000000000008041400000000000004E40000000000080464000000000000034400000000000004F400000000000003E400000000000001440000000000000504000000000000024400000000000002440000000000080504000000000000024400000000000003E400000000000005140000000000000344000000000008041400000000000805140040000000000000000003E400000000000003440000000000000544000000000000034400000000000003940000000000080544000000000000034400000000000002E4000000000000055400000000000003E4000000000000034400000000000805540",
		L"MULTIPOLYGON Z (((40.000000 40.000000 40.000000,20.000000 45.000000 42.000000,45.000000 30.000000 44.000000,40.000000 40.000000 46.000000)),((20.000000 35.000000 60.000000,45.000000 20.000000 62.000000,30.000000 5.000000 64.000000,10.000000 10.000000 66.000000,10.000000 30.000000 68.000000,20.000000 35.000000 70.000000),(30.000000 20.000000 80.000000,20.000000 25.000000 82.000000,20.000000 15.000000 84.000000,30.000000 20.000000 86.000000)))");
	bOK &= testWKB2WKT(
		L"01EE0300000200000001EE030000010000000400000000000000000044400000000000004440000000000000444000000000000034400000000000804640000000000000454000000000008046400000000000003E40000000000000464000000000000044400000000000004440000000000000474001EE0300000200000006000000000000000000344000000000008041400000000000004E40000000000080464000000000000034400000000000004F400000000000003E400000000000001440000000000000504000000000000024400000000000002440000000000080504000000000000024400000000000003E400000000000005140000000000000344000000000008041400000000000805140040000000000000000003E400000000000003440000000000000544000000000000034400000000000003940000000000080544000000000000034400000000000002E4000000000000055400000000000003E4000000000000034400000000000805540",
		L"MULTIPOLYGON Z (((40.000000 40.000000 40.000000,20.000000 45.000000 42.000000,45.000000 30.000000 44.000000,40.000000 40.000000 46.000000)),((20.000000 35.000000 60.000000,45.000000 20.000000 62.000000,30.000000 5.000000 64.000000,10.000000 10.000000 66.000000,10.000000 30.000000 68.000000,20.000000 35.000000 70.000000),(30.000000 20.000000 80.000000,20.000000 25.000000 82.000000,20.000000 15.000000 84.000000,30.000000 20.000000 86.000000)))");
	bOK &= testWKB2GPKGWKB(
		L"01EE0300000200000001EE030000010000000400000000000000000044400000000000004440000000000000444000000000000034400000000000804640000000000000454000000000008046400000000000003E40000000000000464000000000000044400000000000004440000000000000474001EE0300000200000006000000000000000000344000000000008041400000000000004E40000000000080464000000000000034400000000000004F400000000000003E400000000000001440000000000000504000000000000024400000000000002440000000000080504000000000000024400000000000003E400000000000005140000000000000344000000000008041400000000000805140040000000000000000003E400000000000003440000000000000544000000000000034400000000000003940000000000080544000000000000034400000000000002E4000000000000055400000000000003E4000000000000034400000000000805540",
		L"475000050000000000000000000024400000000000804640000000000000144000000000008046400000000000004440000000000080554001EE0300000200000001EE030000010000000400000000000000000044400000000000004440000000000000444000000000000034400000000000804640000000000000454000000000008046400000000000003E40000000000000464000000000000044400000000000004440000000000000474001EE0300000200000006000000000000000000344000000000008041400000000000004E40000000000080464000000000000034400000000000004F400000000000003E400000000000001440000000000000504000000000000024400000000000002440000000000080504000000000000024400000000000003E400000000000005140000000000000344000000000008041400000000000805140040000000000000000003E400000000000003440000000000000544000000000000034400000000000003940000000000080544000000000000034400000000000002E4000000000000055400000000000003E4000000000000034400000000000805540");
	return bOK;
}
bool WkbTester::test_MULTIPOLYGON2_M()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOLYGON M (((40 40 50, 20 45 52, 45 30 54, 40 40 56)),((20 35 70, 45 20 72, 30 5 74, 10 10 76, 10 30 78, 20 35 80),(30 20 90, 20 25 92, 20 15 94, 30 20 96)))",
		L"475000070000000000000000000024400000000000804640000000000000144000000000008046400000000000004940000000000000584001D60700000200000001D60700000100000004000000000000000000444000000000000044400000000000004940000000000000344000000000008046400000000000004A4000000000008046400000000000003E400000000000004B40000000000000444000000000000044400000000000004C4001D607000002000000060000000000000000003440000000000080414000000000008051400000000000804640000000000000344000000000000052400000000000003E400000000000001440000000000080524000000000000024400000000000002440000000000000534000000000000024400000000000003E400000000000805340000000000000344000000000008041400000000000005440040000000000000000003E400000000000003440000000000080564000000000000034400000000000003940000000000000574000000000000034400000000000002E4000000000008057400000000000003E4000000000000034400000000000005840");
	bOK &= testGPKGWKB2WKT(
		L"475000070000000000000000000024400000000000804640000000000000144000000000008046400000000000004940000000000000584001D60700000200000001D60700000100000004000000000000000000444000000000000044400000000000004940000000000000344000000000008046400000000000004A4000000000008046400000000000003E400000000000004B40000000000000444000000000000044400000000000004C4001D607000002000000060000000000000000003440000000000080414000000000008051400000000000804640000000000000344000000000000052400000000000003E400000000000001440000000000080524000000000000024400000000000002440000000000000534000000000000024400000000000003E400000000000805340000000000000344000000000008041400000000000005440040000000000000000003E400000000000003440000000000080564000000000000034400000000000003940000000000000574000000000000034400000000000002E4000000000008057400000000000003E4000000000000034400000000000005840",
		L"MULTIPOLYGON M (((40.000000 40.000000 50.000000,20.000000 45.000000 52.000000,45.000000 30.000000 54.000000,40.000000 40.000000 56.000000)),((20.000000 35.000000 70.000000,45.000000 20.000000 72.000000,30.000000 5.000000 74.000000,10.000000 10.000000 76.000000,10.000000 30.000000 78.000000,20.000000 35.000000 80.000000),(30.000000 20.000000 90.000000,20.000000 25.000000 92.000000,20.000000 15.000000 94.000000,30.000000 20.000000 96.000000)))");
	bOK &= testWKB2WKT(
		L"01D60700000200000001D60700000100000004000000000000000000444000000000000044400000000000004940000000000000344000000000008046400000000000004A4000000000008046400000000000003E400000000000004B40000000000000444000000000000044400000000000004C4001D607000002000000060000000000000000003440000000000080414000000000008051400000000000804640000000000000344000000000000052400000000000003E400000000000001440000000000080524000000000000024400000000000002440000000000000534000000000000024400000000000003E400000000000805340000000000000344000000000008041400000000000005440040000000000000000003E400000000000003440000000000080564000000000000034400000000000003940000000000000574000000000000034400000000000002E4000000000008057400000000000003E4000000000000034400000000000005840",
		L"MULTIPOLYGON M (((40.000000 40.000000 50.000000,20.000000 45.000000 52.000000,45.000000 30.000000 54.000000,40.000000 40.000000 56.000000)),((20.000000 35.000000 70.000000,45.000000 20.000000 72.000000,30.000000 5.000000 74.000000,10.000000 10.000000 76.000000,10.000000 30.000000 78.000000,20.000000 35.000000 80.000000),(30.000000 20.000000 90.000000,20.000000 25.000000 92.000000,20.000000 15.000000 94.000000,30.000000 20.000000 96.000000)))");
	bOK &= testWKB2GPKGWKB(
		L"01D60700000200000001D60700000100000004000000000000000000444000000000000044400000000000004940000000000000344000000000008046400000000000004A4000000000008046400000000000003E400000000000004B40000000000000444000000000000044400000000000004C4001D607000002000000060000000000000000003440000000000080414000000000008051400000000000804640000000000000344000000000000052400000000000003E400000000000001440000000000080524000000000000024400000000000002440000000000000534000000000000024400000000000003E400000000000805340000000000000344000000000008041400000000000005440040000000000000000003E400000000000003440000000000080564000000000000034400000000000003940000000000000574000000000000034400000000000002E4000000000008057400000000000003E4000000000000034400000000000005840",
		L"475000070000000000000000000024400000000000804640000000000000144000000000008046400000000000004940000000000000584001D60700000200000001D60700000100000004000000000000000000444000000000000044400000000000004940000000000000344000000000008046400000000000004A4000000000008046400000000000003E400000000000004B40000000000000444000000000000044400000000000004C4001D607000002000000060000000000000000003440000000000080414000000000008051400000000000804640000000000000344000000000000052400000000000003E400000000000001440000000000080524000000000000024400000000000002440000000000000534000000000000024400000000000003E400000000000805340000000000000344000000000008041400000000000005440040000000000000000003E400000000000003440000000000080564000000000000034400000000000003940000000000000574000000000000034400000000000002E4000000000008057400000000000003E4000000000000034400000000000005840");
	return bOK;
}
bool WkbTester::test_MULTIPOLYGON2_ZM()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"MULTIPOLYGON ZM (((40 40 40 50, 20 45 42 52, 45 30 44 54, 40 40 46 56)),((20 35 60 70, 45 20 62 72, 30 5 64 74, 10 10 66 76, 10 30 68 78, 20 35 70 80),(30 20 80 90, 20 25 82 92, 20 15 84 94, 30 20 86 96)))",
		L"47500009000000000000000000002440000000000080464000000000000014400000000000804640000000000000444000000000008055400000000000004940000000000000584001BE0B00000200000001BE0B0000010000000400000000000000000044400000000000004440000000000000444000000000000049400000000000003440000000000080464000000000000045400000000000004A4000000000008046400000000000003E4000000000000046400000000000004B400000000000004440000000000000444000000000000047400000000000004C4001BE0B00000200000006000000000000000000344000000000008041400000000000004E400000000000805140000000000080464000000000000034400000000000004F4000000000000052400000000000003E40000000000000144000000000000050400000000000805240000000000000244000000000000024400000000000805040000000000000534000000000000024400000000000003E40000000000000514000000000008053400000000000003440000000000080414000000000008051400000000000005440040000000000000000003E40000000000000344000000000000054400000000000805640000000000000344000000000000039400000000000805440000000000000574000000000000034400000000000002E40000000000000554000000000008057400000000000003E40000000000000344000000000008055400000000000005840");
	bOK &= testGPKGWKB2WKT(
		L"47500009000000000000000000002440000000000080464000000000000014400000000000804640000000000000444000000000008055400000000000004940000000000000584001BE0B00000200000001BE0B0000010000000400000000000000000044400000000000004440000000000000444000000000000049400000000000003440000000000080464000000000000045400000000000004A4000000000008046400000000000003E4000000000000046400000000000004B400000000000004440000000000000444000000000000047400000000000004C4001BE0B00000200000006000000000000000000344000000000008041400000000000004E400000000000805140000000000080464000000000000034400000000000004F4000000000000052400000000000003E40000000000000144000000000000050400000000000805240000000000000244000000000000024400000000000805040000000000000534000000000000024400000000000003E40000000000000514000000000008053400000000000003440000000000080414000000000008051400000000000005440040000000000000000003E40000000000000344000000000000054400000000000805640000000000000344000000000000039400000000000805440000000000000574000000000000034400000000000002E40000000000000554000000000008057400000000000003E40000000000000344000000000008055400000000000005840",
		L"MULTIPOLYGON ZM (((40.000000 40.000000 40.000000 50.000000,20.000000 45.000000 42.000000 52.000000,45.000000 30.000000 44.000000 54.000000,40.000000 40.000000 46.000000 56.000000)),((20.000000 35.000000 60.000000 70.000000,45.000000 20.000000 62.000000 72.000000,30.000000 5.000000 64.000000 74.000000,10.000000 10.000000 66.000000 76.000000,10.000000 30.000000 68.000000 78.000000,20.000000 35.000000 70.000000 80.000000),(30.000000 20.000000 80.000000 90.000000,20.000000 25.000000 82.000000 92.000000,20.000000 15.000000 84.000000 94.000000,30.000000 20.000000 86.000000 96.000000)))");
	bOK &= testWKB2WKT(
		L"01BE0B00000200000001BE0B0000010000000400000000000000000044400000000000004440000000000000444000000000000049400000000000003440000000000080464000000000000045400000000000004A4000000000008046400000000000003E4000000000000046400000000000004B400000000000004440000000000000444000000000000047400000000000004C4001BE0B00000200000006000000000000000000344000000000008041400000000000004E400000000000805140000000000080464000000000000034400000000000004F4000000000000052400000000000003E40000000000000144000000000000050400000000000805240000000000000244000000000000024400000000000805040000000000000534000000000000024400000000000003E40000000000000514000000000008053400000000000003440000000000080414000000000008051400000000000005440040000000000000000003E40000000000000344000000000000054400000000000805640000000000000344000000000000039400000000000805440000000000000574000000000000034400000000000002E40000000000000554000000000008057400000000000003E40000000000000344000000000008055400000000000005840",
		L"MULTIPOLYGON ZM (((40.000000 40.000000 40.000000 50.000000,20.000000 45.000000 42.000000 52.000000,45.000000 30.000000 44.000000 54.000000,40.000000 40.000000 46.000000 56.000000)),((20.000000 35.000000 60.000000 70.000000,45.000000 20.000000 62.000000 72.000000,30.000000 5.000000 64.000000 74.000000,10.000000 10.000000 66.000000 76.000000,10.000000 30.000000 68.000000 78.000000,20.000000 35.000000 70.000000 80.000000),(30.000000 20.000000 80.000000 90.000000,20.000000 25.000000 82.000000 92.000000,20.000000 15.000000 84.000000 94.000000,30.000000 20.000000 86.000000 96.000000)))");
	bOK &= testWKB2GPKGWKB(
		L"01BE0B00000200000001BE0B0000010000000400000000000000000044400000000000004440000000000000444000000000000049400000000000003440000000000080464000000000000045400000000000004A4000000000008046400000000000003E4000000000000046400000000000004B400000000000004440000000000000444000000000000047400000000000004C4001BE0B00000200000006000000000000000000344000000000008041400000000000004E400000000000805140000000000080464000000000000034400000000000004F4000000000000052400000000000003E40000000000000144000000000000050400000000000805240000000000000244000000000000024400000000000805040000000000000534000000000000024400000000000003E40000000000000514000000000008053400000000000003440000000000080414000000000008051400000000000005440040000000000000000003E40000000000000344000000000000054400000000000805640000000000000344000000000000039400000000000805440000000000000574000000000000034400000000000002E40000000000000554000000000008057400000000000003E40000000000000344000000000008055400000000000005840",
		L"47500009000000000000000000002440000000000080464000000000000014400000000000804640000000000000444000000000008055400000000000004940000000000000584001BE0B00000200000001BE0B0000010000000400000000000000000044400000000000004440000000000000444000000000000049400000000000003440000000000080464000000000000045400000000000004A4000000000008046400000000000003E4000000000000046400000000000004B400000000000004440000000000000444000000000000047400000000000004C4001BE0B00000200000006000000000000000000344000000000008041400000000000004E400000000000805140000000000080464000000000000034400000000000004F4000000000000052400000000000003E40000000000000144000000000000050400000000000805240000000000000244000000000000024400000000000805040000000000000534000000000000024400000000000003E40000000000000514000000000008053400000000000003440000000000080414000000000008051400000000000005440040000000000000000003E40000000000000344000000000000054400000000000805640000000000000344000000000000039400000000000805440000000000000574000000000000034400000000000002E40000000000000554000000000008057400000000000003E40000000000000344000000000008055400000000000005840");
	return bOK;
}
bool WkbTester::test_GEOMETRYCOLLECTION()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"GEOMETRYCOLLECTION (POLYGON((1 1,2 1,2 2,1 2,1 1)),POINT(2 3),LINESTRING(2 3,3 4))",
		L"4750000300000000000000000000F03F0000000000000840000000000000F03F000000000000104001070000000300000001030000000100000005000000000000000000F03F000000000000F03F0000000000000040000000000000F03F00000000000000400000000000000040000000000000F03F0000000000000040000000000000F03F000000000000F03F0101000000000000000000004000000000000008400102000000020000000000000000000040000000000000084000000000000008400000000000001040");
	bOK &= testGPKGWKB2WKT(
		L"4750000300000000000000000000F03F0000000000000840000000000000F03F000000000000104001070000000300000001030000000100000005000000000000000000F03F000000000000F03F0000000000000040000000000000F03F00000000000000400000000000000040000000000000F03F0000000000000040000000000000F03F000000000000F03F0101000000000000000000004000000000000008400102000000020000000000000000000040000000000000084000000000000008400000000000001040",
		L"GEOMETRYCOLLECTION (POLYGON ((1.000000 1.000000,2.000000 1.000000,2.000000 2.000000,1.000000 2.000000,1.000000 1.000000)),POINT (2.000000 3.000000),LINESTRING (2.000000 3.000000,3.000000 4.000000))");
	bOK &= testWKB2WKT(
		L"01070000000300000001030000000100000005000000000000000000F03F000000000000F03F0000000000000040000000000000F03F00000000000000400000000000000040000000000000F03F0000000000000040000000000000F03F000000000000F03F0101000000000000000000004000000000000008400102000000020000000000000000000040000000000000084000000000000008400000000000001040",
		L"GEOMETRYCOLLECTION (POLYGON ((1.000000 1.000000,2.000000 1.000000,2.000000 2.000000,1.000000 2.000000,1.000000 1.000000)),POINT (2.000000 3.000000),LINESTRING (2.000000 3.000000,3.000000 4.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01070000000300000001030000000100000005000000000000000000F03F000000000000F03F0000000000000040000000000000F03F00000000000000400000000000000040000000000000F03F0000000000000040000000000000F03F000000000000F03F0101000000000000000000004000000000000008400102000000020000000000000000000040000000000000084000000000000008400000000000001040",
		L"4750000300000000000000000000F03F0000000000000840000000000000F03F000000000000104001070000000300000001030000000100000005000000000000000000F03F000000000000F03F0000000000000040000000000000F03F00000000000000400000000000000040000000000000F03F0000000000000040000000000000F03F000000000000F03F0101000000000000000000004000000000000008400102000000020000000000000000000040000000000000084000000000000008400000000000001040");
	return bOK;
}
bool WkbTester::test_GEOMETRYCOLLECTION_Z()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"GEOMETRYCOLLECTION Z (POLYGON Z((1 1 40,2 1 42,2 2 44,1 2 46,1 1 48)),POINT Z(2 3 60),LINESTRING Z(2 3 80,3 4 82))",
		L"4750000500000000000000000000F03F0000000000000840000000000000F03F00000000000010400000000000004440000000000080544001EF0300000300000001EB0300000100000005000000000000000000F03F000000000000F03F00000000000044400000000000000040000000000000F03F0000000000004540000000000000004000000000000000400000000000004640000000000000F03F00000000000000400000000000004740000000000000F03F000000000000F03F000000000000484001E9030000000000000000004000000000000008400000000000004E4001EA03000002000000000000000000004000000000000008400000000000005440000000000000084000000000000010400000000000805440");
	bOK &= testGPKGWKB2WKT(
		L"4750000500000000000000000000F03F0000000000000840000000000000F03F00000000000010400000000000004440000000000080544001EF0300000300000001EB0300000100000005000000000000000000F03F000000000000F03F00000000000044400000000000000040000000000000F03F0000000000004540000000000000004000000000000000400000000000004640000000000000F03F00000000000000400000000000004740000000000000F03F000000000000F03F000000000000484001E9030000000000000000004000000000000008400000000000004E4001EA03000002000000000000000000004000000000000008400000000000005440000000000000084000000000000010400000000000805440",
		L"GEOMETRYCOLLECTION Z (POLYGON Z ((1.000000 1.000000 40.000000,2.000000 1.000000 42.000000,2.000000 2.000000 44.000000,1.000000 2.000000 46.000000,1.000000 1.000000 48.000000)),POINT Z (2.000000 3.000000 60.000000),LINESTRING Z (2.000000 3.000000 80.000000,3.000000 4.000000 82.000000))");
	bOK &= testWKB2WKT(
		L"01EF0300000300000001EB0300000100000005000000000000000000F03F000000000000F03F00000000000044400000000000000040000000000000F03F0000000000004540000000000000004000000000000000400000000000004640000000000000F03F00000000000000400000000000004740000000000000F03F000000000000F03F000000000000484001E9030000000000000000004000000000000008400000000000004E4001EA03000002000000000000000000004000000000000008400000000000005440000000000000084000000000000010400000000000805440",
		L"GEOMETRYCOLLECTION Z (POLYGON Z ((1.000000 1.000000 40.000000,2.000000 1.000000 42.000000,2.000000 2.000000 44.000000,1.000000 2.000000 46.000000,1.000000 1.000000 48.000000)),POINT Z (2.000000 3.000000 60.000000),LINESTRING Z (2.000000 3.000000 80.000000,3.000000 4.000000 82.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01EF0300000300000001EB0300000100000005000000000000000000F03F000000000000F03F00000000000044400000000000000040000000000000F03F0000000000004540000000000000004000000000000000400000000000004640000000000000F03F00000000000000400000000000004740000000000000F03F000000000000F03F000000000000484001E9030000000000000000004000000000000008400000000000004E4001EA03000002000000000000000000004000000000000008400000000000005440000000000000084000000000000010400000000000805440",
		L"4750000500000000000000000000F03F0000000000000840000000000000F03F00000000000010400000000000004440000000000080544001EF0300000300000001EB0300000100000005000000000000000000F03F000000000000F03F00000000000044400000000000000040000000000000F03F0000000000004540000000000000004000000000000000400000000000004640000000000000F03F00000000000000400000000000004740000000000000F03F000000000000F03F000000000000484001E9030000000000000000004000000000000008400000000000004E4001EA03000002000000000000000000004000000000000008400000000000005440000000000000084000000000000010400000000000805440");
	return bOK;
}
bool WkbTester::test_GEOMETRYCOLLECTION_M()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"GEOMETRYCOLLECTION M (POLYGON M((1 1 50,2 1 52,2 2 54,1 2 56,1 1 58)),POINT M(2 3 70),LINESTRING M(2 3 90,3 4 92))",
		L"4750000700000000000000000000F03F0000000000000840000000000000F03F00000000000010400000000000004940000000000000574001D70700000300000001D30700000100000005000000000000000000F03F000000000000F03F00000000000049400000000000000040000000000000F03F0000000000004A40000000000000004000000000000000400000000000004B40000000000000F03F00000000000000400000000000004C40000000000000F03F000000000000F03F0000000000004D4001D107000000000000000000400000000000000840000000000080514001D207000002000000000000000000004000000000000008400000000000805640000000000000084000000000000010400000000000005740");
	bOK &= testGPKGWKB2WKT(
		L"4750000700000000000000000000F03F0000000000000840000000000000F03F00000000000010400000000000004940000000000000574001D70700000300000001D30700000100000005000000000000000000F03F000000000000F03F00000000000049400000000000000040000000000000F03F0000000000004A40000000000000004000000000000000400000000000004B40000000000000F03F00000000000000400000000000004C40000000000000F03F000000000000F03F0000000000004D4001D107000000000000000000400000000000000840000000000080514001D207000002000000000000000000004000000000000008400000000000805640000000000000084000000000000010400000000000005740",
		L"GEOMETRYCOLLECTION M (POLYGON M ((1.000000 1.000000 50.000000,2.000000 1.000000 52.000000,2.000000 2.000000 54.000000,1.000000 2.000000 56.000000,1.000000 1.000000 58.000000)),POINT M (2.000000 3.000000 70.000000),LINESTRING M (2.000000 3.000000 90.000000,3.000000 4.000000 92.000000))");
	bOK &= testWKB2WKT(
		L"01D70700000300000001D30700000100000005000000000000000000F03F000000000000F03F00000000000049400000000000000040000000000000F03F0000000000004A40000000000000004000000000000000400000000000004B40000000000000F03F00000000000000400000000000004C40000000000000F03F000000000000F03F0000000000004D4001D107000000000000000000400000000000000840000000000080514001D207000002000000000000000000004000000000000008400000000000805640000000000000084000000000000010400000000000005740",
		L"GEOMETRYCOLLECTION M (POLYGON M ((1.000000 1.000000 50.000000,2.000000 1.000000 52.000000,2.000000 2.000000 54.000000,1.000000 2.000000 56.000000,1.000000 1.000000 58.000000)),POINT M (2.000000 3.000000 70.000000),LINESTRING M (2.000000 3.000000 90.000000,3.000000 4.000000 92.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01D70700000300000001D30700000100000005000000000000000000F03F000000000000F03F00000000000049400000000000000040000000000000F03F0000000000004A40000000000000004000000000000000400000000000004B40000000000000F03F00000000000000400000000000004C40000000000000F03F000000000000F03F0000000000004D4001D107000000000000000000400000000000000840000000000080514001D207000002000000000000000000004000000000000008400000000000805640000000000000084000000000000010400000000000005740",
		L"4750000700000000000000000000F03F0000000000000840000000000000F03F00000000000010400000000000004940000000000000574001D70700000300000001D30700000100000005000000000000000000F03F000000000000F03F00000000000049400000000000000040000000000000F03F0000000000004A40000000000000004000000000000000400000000000004B40000000000000F03F00000000000000400000000000004C40000000000000F03F000000000000F03F0000000000004D4001D107000000000000000000400000000000000840000000000080514001D207000002000000000000000000004000000000000008400000000000805640000000000000084000000000000010400000000000005740");
	return bOK;
}
bool WkbTester::test_GEOMETRYCOLLECTION_ZM()
{
	bool bOK = true;
	bOK &= testWKT2GPKGWKB(
		L"GEOMETRYCOLLECTION ZM (POLYGON ZM((1 1 45 50,2 1 42 52,2 2 44 54,1 2 46 56,1 1 48 58)),POINT ZM(2 3 60 70),LINESTRING ZM(2 3 80 90,3 4 82 92))",
		L"4750000900000000000000000000F03F0000000000000840000000000000F03F0000000000001040000000000000454000000000008054400000000000004940000000000000574001BF0B00000300000001BB0B00000100000005000000000000000000F03F000000000000F03F000000000080464000000000000049400000000000000040000000000000F03F00000000000045400000000000004A400000000000000040000000000000004000000000000046400000000000004B40000000000000F03F000000000000004000000000000047400000000000004C40000000000000F03F000000000000F03F00000000000048400000000000004D4001B90B0000000000000000004000000000000008400000000000004E40000000000080514001BA0B00000200000000000000000000400000000000000840000000000000544000000000008056400000000000000840000000000000104000000000008054400000000000005740");
	bOK &= testGPKGWKB2WKT(
		L"4750000900000000000000000000F03F0000000000000840000000000000F03F0000000000001040000000000000454000000000008054400000000000004940000000000000574001BF0B00000300000001BB0B00000100000005000000000000000000F03F000000000000F03F000000000080464000000000000049400000000000000040000000000000F03F00000000000045400000000000004A400000000000000040000000000000004000000000000046400000000000004B40000000000000F03F000000000000004000000000000047400000000000004C40000000000000F03F000000000000F03F00000000000048400000000000004D4001B90B0000000000000000004000000000000008400000000000004E40000000000080514001BA0B00000200000000000000000000400000000000000840000000000000544000000000008056400000000000000840000000000000104000000000008054400000000000005740",
		L"GEOMETRYCOLLECTION ZM (POLYGON ZM ((1.000000 1.000000 45.000000 50.000000,2.000000 1.000000 42.000000 52.000000,2.000000 2.000000 44.000000 54.000000,1.000000 2.000000 46.000000 56.000000,1.000000 1.000000 48.000000 58.000000)),POINT ZM (2.000000 3.000000 60.000000 70.000000),LINESTRING ZM (2.000000 3.000000 80.000000 90.000000,3.000000 4.000000 82.000000 92.000000))");
	bOK &= testWKB2WKT(
		L"01BF0B00000300000001BB0B00000100000005000000000000000000F03F000000000000F03F000000000080464000000000000049400000000000000040000000000000F03F00000000000045400000000000004A400000000000000040000000000000004000000000000046400000000000004B40000000000000F03F000000000000004000000000000047400000000000004C40000000000000F03F000000000000F03F00000000000048400000000000004D4001B90B0000000000000000004000000000000008400000000000004E40000000000080514001BA0B00000200000000000000000000400000000000000840000000000000544000000000008056400000000000000840000000000000104000000000008054400000000000005740",
		L"GEOMETRYCOLLECTION ZM (POLYGON ZM ((1.000000 1.000000 45.000000 50.000000,2.000000 1.000000 42.000000 52.000000,2.000000 2.000000 44.000000 54.000000,1.000000 2.000000 46.000000 56.000000,1.000000 1.000000 48.000000 58.000000)),POINT ZM (2.000000 3.000000 60.000000 70.000000),LINESTRING ZM (2.000000 3.000000 80.000000 90.000000,3.000000 4.000000 82.000000 92.000000))");
	bOK &= testWKB2GPKGWKB(
		L"01BF0B00000300000001BB0B00000100000005000000000000000000F03F000000000000F03F000000000080464000000000000049400000000000000040000000000000F03F00000000000045400000000000004A400000000000000040000000000000004000000000000046400000000000004B40000000000000F03F000000000000004000000000000047400000000000004C40000000000000F03F000000000000F03F00000000000048400000000000004D4001B90B0000000000000000004000000000000008400000000000004E40000000000080514001BA0B00000200000000000000000000400000000000000840000000000000544000000000008056400000000000000840000000000000104000000000008054400000000000005740",
		L"4750000900000000000000000000F03F0000000000000840000000000000F03F0000000000001040000000000000454000000000008054400000000000004940000000000000574001BF0B00000300000001BB0B00000100000005000000000000000000F03F000000000000F03F000000000080464000000000000049400000000000000040000000000000F03F00000000000045400000000000004A400000000000000040000000000000004000000000000046400000000000004B40000000000000F03F000000000000004000000000000047400000000000004C40000000000000F03F000000000000F03F00000000000048400000000000004D4001B90B0000000000000000004000000000000008400000000000004E40000000000080514001BA0B00000200000000000000000000400000000000000840000000000000544000000000008056400000000000000840000000000000104000000000008054400000000000005740");
	return bOK;
}

bool WkbTester::runTests()
{
	bool bOK = true;
	bOK = bOK && test_POINT();
	bOK = bOK && test_POINT_Z();
	bOK = bOK && test_POINT_M();
	bOK = bOK && test_POINT_ZM();
	bOK = bOK && test_LINESTRING();
	bOK = bOK && test_LINESTRING_Z();
	bOK = bOK && test_LINESTRING_M();
	bOK = bOK && test_LINESTRING_ZM();
	bOK = bOK && test_MULTILINESTRING();
	bOK = bOK && test_MULTILINESTRING_Z();
	bOK = bOK && test_MULTILINESTRING_M();
	bOK = bOK && test_MULTILINESTRING_ZM();
	bOK = bOK && test_POLYGON1();
	bOK = bOK && test_POLYGON1_Z();
	bOK = bOK && test_POLYGON1_M();
	bOK = bOK && test_POLYGON1_ZM();
	bOK = bOK && test_POLYGON2();
	bOK = bOK && test_POLYGON2_Z();
	bOK = bOK && test_POLYGON2_M();
	bOK = bOK && test_POLYGON2_ZM();
	bOK = bOK && test_MULTIPOINT();
	bOK = bOK && test_MULTIPOINT_Z();
	bOK = bOK && test_MULTIPOINT_M();
	bOK = bOK && test_MULTIPOINT_ZM();
	bOK = bOK && test_MULTIPOLYGON1();
	bOK = bOK && test_MULTIPOLYGON1_Z();
	bOK = bOK && test_MULTIPOLYGON1_M();
	bOK = bOK && test_MULTIPOLYGON1_ZM();
	bOK = bOK && test_MULTIPOLYGON2();
	bOK = bOK && test_MULTIPOLYGON2_Z();
	bOK = bOK && test_MULTIPOLYGON2_M();
	bOK = bOK && test_MULTIPOLYGON2_ZM();
	bOK = bOK && test_GEOMETRYCOLLECTION();
	bOK = bOK && test_GEOMETRYCOLLECTION_Z();
	bOK = bOK && test_GEOMETRYCOLLECTION_M();
	bOK = bOK && test_GEOMETRYCOLLECTION_ZM();
	return bOK;
}
